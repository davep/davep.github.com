<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="blogmore v0.4.0">
    <title>Posts from September 2023 - davep</title>
    
    <link rel="icon" href="/icons/favicon.ico">
    
    
    <!-- Favicon alternatives -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/apple-touch-icon-167.png">
    <!-- Android/Chrome -->
    <link rel="manifest" href="/icons/site.webmanifest">
    <!-- Windows/Edge -->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/static/style.css">
    
    
    <link rel="alternate" type="application/rss+xml" title="davep - RSS Feed" href="https://blog.davep.org/feed.xml">
    <link rel="alternate" type="application/atom+xml" title="davep - Atom Feed" href="https://blog.davep.org/feeds/all.atom.xml">
    
    
    <script src="/static/theme.js"></script>
    
</head>
<body>
    <div class="site-container">
        <aside class="sidebar">
            <div class="sidebar-content">
                <div class="sidebar-header">
                    
                    <div class="sidebar-logo">
                        <a href="/">
                            <img src="/davep.jpeg" alt="davep">
                        </a>
                    </div>
                    

                    <div class="sidebar-title">
                        <h1><a href="/">davep</a></h1>
                        
                        <p class="sidebar-subtitle">Code, Emacs, VR, Stuff...</p>
                        
                    </div>
                </div>

                
                <div class="sidebar-pages">
                    <ul class="sidebar-links">
                        
                        <li><a href="/about.html">About</a></li>
                        
                        <li><a href="/dotfiles.html">Dot Files</a></li>
                        
                    </ul>
                </div>
                

                
                <section class="sidebar-section">
                    <h2>Links</h2>
                    <ul class="sidebar-links">
                        
                        <li><a href="http://davep.at/" target="_blank" rel="noopener noreferrer">davep@</a></li>
                        
                        <li><a href="https://raindrop.io/davep/public-46742255/sort=-created&amp;perpage=30&amp;page=0" target="_blank" rel="noopener noreferrer">Bookmarks</a></li>
                        
                        <li><a href="https://seenbydavep.blogspot.com/" target="_blank" rel="noopener noreferrer">Photoblog</a></li>
                        
                        <li><a href="https://elisp.dev/" target="_blank" rel="noopener noreferrer">Emacs Packages</a></li>
                        
                        <li><a href="https://pypi.org/user/davepearson/" target="_blank" rel="noopener noreferrer">Python Packages</a></li>
                        
                    </ul>
                </section>
                

                
                <section class="sidebar-section">
                    <h2>Social</h2>
                    <div class="sidebar-socials">
                        
                        <a href="https://github.com/davep" title="github" aria-label="github" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-github"></i>
                        </a>
                        
                        <a href="https://fosstodon.org/@davep" title="mastodon" aria-label="mastodon" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-mastodon"></i>
                        </a>
                        
                        <a href="https://www.flickr.com/photos/davepearson/" title="flickr" aria-label="flickr" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-flickr"></i>
                        </a>
                        
                        <a href="https://www.last.fm/user/davepdotorg" title="lastfm" aria-label="lastfm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-lastfm"></i>
                        </a>
                        
                        <a href="https://www.npmjs.com/~davep.org" title="npm" aria-label="npm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-npm"></i>
                        </a>
                        
                        <a href="https://www.youtube.com/user/daveporg" title="youtube" aria-label="youtube" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-youtube"></i>
                        </a>
                        
                        <a href="https://steamcommunity.com/id/davepdotorg" title="steam" aria-label="steam" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-steam"></i>
                        </a>
                        
                    </div>
                </section>
                
            </div>
        </aside>

        <div class="main-wrapper">
            <header>
                <nav>
                    <ul>
                        <li><a href="/categories.html">Categories</a></li>
                        <li><a href="/tags.html">Tags</a></li>
                        <li><a href="/archive.html">Archive</a></li>
                        
                        <li><a href="/feed.xml" title="Subscribe via RSS feed">RSS</a></li>
                        <li><a href="/feeds/all.atom.xml" title="Subscribe via Atom feed">Atom</a></li>
                        
                        <li>
                            <button class="theme-toggle" type="button" aria-label="Toggle theme">
                                <span class="icon light-icon">‚òÄÔ∏è</span>
                                <span class="icon dark-icon">üåô</span>
                                <span class="theme-label">Theme</span>
                            </button>
                        </li>
                    </ul>
                </nav>
            </header>

            <main>
                
<div class="archive">
    <h1>Posts from September 2023</h1>
    
    
    
    
    
    <article class="post-summary">
        <h2><a href="/2023/09/29/mandelbrot-commands.html">Mandelbrot Commands</a></h2>
        
        <time datetime="2023-09-29T12:42:00+01:00">September 29, 2023 12:42:00 UTC+01:00</time>
        
        <div class="reading-time">2 min read</div>
        
        <div class="category">
            <a href="/category/python.html" class="category-link">Python</a>
        </div>
        
        <div class="post-content">
            <p>I don't think I've mentioned it before on this blog, but some time back I
decided it would be fun to use <a href="https://textual.textualize.io/" rel="noopener noreferrer" target="_blank">Textual</a> to
write a Mandelbrot explorer (simple Mandelbrot explorers have been another
one of my favourite <a href="/2019/11/10/going-on-a-journey.html">known problem to try an unknown
thing</a> problems). Doing it in the
terminal seemed like a fun little hack. I started off with creating
<a href="https://github.com/davep/textual-canvas" rel="noopener noreferrer" target="_blank"><code>textual-canvas</code></a> and then built
<a href="https://github.com/davep/textual-mandelbrot" rel="noopener noreferrer" target="_blank"><code>textual-mandelbrot</code></a> on top
of that.</p>
<p>Not too long back <a href="https://textual.textualize.io/blog/2023/09/15/textual-0370-adds-a-command-palette/" rel="noopener noreferrer" target="_blank">I added a "command palette" to
Textual</a>
(I'd prefer to call it a minibuffer, but I get that that's not fashionable
these days), but so far I've not used it in any of my own projects; earlier
today I thought it could be fun to add it to <code>textual-mandelbrot</code>.</p>
<p><img alt="Mandelbrot commands in action" src="/attachments/2023/09/29/mandelbrot-commands.png#centre" /></p>
<p>Most of the commands I've added are trivial and really better covered by
(and are covered by) keystrokes, but it was a good test and a way to show
off how to create a command provider.</p>
<p>Having started this I can see some more useful things to add: for example it
might be interesting to add a facility where you can bookmark a specific
location, zoom level, iteration value, etc, and revisit later. The command
palette would feel like a great way to pull back those bookmarks.</p>
<p>What I really liked though was how <em>easy</em> this was to do. <a href="https://github.com/davep/textual-mandelbrot/blob/main/textual_mandelbrot/commands.py" rel="noopener noreferrer" target="_blank">The code to make
the commands
available</a>
is pretty trivial and, I believe, easy to follow. Although I do say so
myself I think I managed to design a very accessible API for this.</p>
<p>There's more I'd like to add to that (the Textual command palette itself, I
mean), of course; this was just the start. Support for commands that accept
and prompt for arguments would be a neat and obvious enhancement (especially
if done in a way that's reminiscent of how commands could be defined in
<a href="https://en.wikipedia.org/wiki/Common_Lisp_Interface_Manager" rel="noopener noreferrer" target="_blank">CLIM</a> -- I
remember <a href="https://github.com/davep/org-davep-cldict/" rel="noopener noreferrer" target="_blank">really liking</a> how you
could create self-documenting and self-completing commands in that).</p>
<p>All in good time...</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/pypi.html" class="tag">PyPi</a>
            
            <a href="/tag/python.html" class="tag">Python</a>
            
            <a href="/tag/coding.html" class="tag">coding</a>
            
            <a href="/tag/textual.html" class="tag">Textual</a>
            
            <a href="/tag/mandelbrot.html" class="tag">mandelbrot</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2023/09/23/apple-design.html">Apple Design</a></h2>
        
        <time datetime="2023-09-23T08:10:00+01:00">September 23, 2023 08:10:00 UTC+01:00</time>
        
        <div class="reading-time">2 min read</div>
        
        <div class="category">
            <a href="/category/tech.html" class="category-link">Tech</a>
        </div>
        
        <div class="post-content">
            <p>As someone who started out in the Android ecosystem when it came to smart
phones -- starting out with a <a href="https://en.wikipedia.org/wiki/HTC_Magic" rel="noopener noreferrer" target="_blank">HTC
Magic</a> and going through a few
different phones before settling on Pixels (until I finally jumped ship to
iOS in 2020) -- I have to admit that there's always been something nice
about the design of iPhones. iOS, less so... My first exposure to iOS was
<a href="/2015/06/23/and-now-for-some-ios.html">back in 2015 when I got an iPod</a>,
and I wasn't terribly impressed. It looked okay, but it felt so far behind
Android in terms of functionality.</p>
<p>Much has changed and improved since then. These days, 3 years into being
totally consumed by the Apple ecosystem (one day I should write a post about
how comprehensively I've moved over), I'm won over and I like how iOS works
now.</p>
<p>Except this...</p>
<p><img alt="Bad design" src="/attachments/2023/09/23/top-bad.jpeg#centre" /></p>
<p>That thing where, when you're in one app, it will show the most useless link
"back" to another app, and in doing so bump the time up and out of the way a
little. Like, seriously, compare it to when the app link thing isn't there:</p>
<p><img alt="Good design" src="/attachments/2023/09/23/top-good.jpeg#centre" /></p>
<p>Once you see it, you can't unsee it.</p>
<p><img alt="Toggle of the two images" src="/attachments/2023/09/23/bad-good-toggle.gif#centre" /></p>
<p>After all this time you'd think they would have found a less janky way of
doing this; perhaps even simply removed it (I can't remember the last time I
needed or wanted the ability to go "back" an app like this, especially not
with the bottom-of-screen swipe gesture being a thing). If nothing else
you'd think that, by now, they'd have found a way of doing it that doesn't
look so terrible.</p>
<p>The <em>"eh, let's just shove it here"</em> approach that seems to be on display
here almost reminds me of <a href="/2015/10/07/imac-time-wiggle.html">the "time wiggle" that used to mildly annoy me
back on my iMac</a>.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/apple.html" class="tag">Apple</a>
            
            <a href="/tag/ios.html" class="tag">iOS</a>
            
            <a href="/tag/iphone.html" class="tag">iPhone</a>
            
            <a href="/tag/design.html" class="tag">design</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2023/09/11/a-map-of-my-year-in-obsidian.html">A map of my year in Obsidian</a></h2>
        
        <time datetime="2023-09-11T20:07:00+01:00">September 11, 2023 20:07:00 UTC+01:00</time>
        
        <div class="reading-time">3 min read</div>
        
        <div class="category">
            <a href="/category/life.html" class="category-link">Life</a>
        </div>
        
        <div class="post-content">
            <p>Some time around late October or early November last year, around the time I
started working at <a href="https://www.textualize.io/" rel="noopener noreferrer" target="_blank">Textualize</a>, I "discovered"
<a href="https://obsidian.md/" rel="noopener noreferrer" target="_blank">Obsidian</a>. While I didn't need another note-taking
application (having gone through Evernote, trying to use
<a href="https://orgmode.org/" rel="noopener noreferrer" target="_blank">Org</a>, dabbling with a couple of other things and
finally settling mainly on Apple Notes), I was quite taken by its style and
ubiquity and the fact that it was, at heart, just a bunch of Markdown files.</p>
<p>So quite quickly I started using it; not to replace Apple Notes (which is
still my general note-taking tool of choice), but to keep work notes and a
daily coding journal, the latter coming in useful for the quick end-of-day
meetings we normally have.</p>
<p>One of the things I was quite taken by was the graph. It was interesting and
fun to see how each of my work days related to other work days, and what
subjects kept getting pulled in, etc.</p>
<p>So come the start of this year I had an idea: what would it be like to keep
a personal vault, but one where I track things I've done. Not a journal as
such (I do keep one of those too, have done for many years now, but that's
for other far more important reasons -- perhaps I'll write about that one
day too), just a daily record of stuff I've achieved, stuff I've actually
done, the routine things and the exceptional things?</p>
<p>What would that graph look like?</p>
<p>While it's not the end of this year yet, here's how that's shaping up:</p>
<p><img alt="The main graph" src="/attachments/2023/09/11/MainGraph.png#centre" /></p>
<p>Each of the yellow circles is a day, each of the blue ones is a tag of some
sort. As you'd imagine, the size of the circles relates to how often that
item is tagged. So I can see what proportion of my days so far this year
have been tagged with being heavily involved with work:</p>
<p><img alt="Work" src="/attachments/2023/09/11/Work.png#centre" /></p>
<p>Likewise, if I want to see how many days this year have involved a
significant spot of gaming:</p>
<p><img alt="Gaming" src="/attachments/2023/09/11/Gaming.png#centre" /></p>
<p>Ditto for days where I've done some coding on pet projects, or even some
personal-time coding relating to work projects (it might be work, but it's
also Free Software and I do like to support FOSS!)</p>
<p><img alt="Coding" src="/attachments/2023/09/11/Coding.png#centre" /></p>
<p>I sort of have a curated set of tags I apply, but I've not made it a strict
set; if some new situation crops up that calls for a new tag I'll use it.
Mostly though I try and keep the tags pretty general so lots of days can
relate to the same general subject.</p>
<p>Another thing I've done is tag each and every day with the day of the week,
so while it's not really surprising to find that Sunday doesn't dominate
over other days, I can see which days are Sundays and perhaps wander along
the connections and see what I get up to:</p>
<p><img alt="Sunday" src="/attachments/2023/09/11/Sunday.png#centre" /></p>
<p>I don't quite know what I hope to get out of this, I don't really know if
there's anything useful to be had here at all, but it will be interesting to
look back over it at the end of the year. It also means that I'll have a
directory hierarchy full of Markdown files, all tagged and filled with
information, which I'll be able to <code>grep</code> and slice and dice and count and
perhaps pull into a database and cross-reference with stuff and things.</p>
<p>Or perhaps it's all just really me not having a good use for Obsidian but
inventing one anyway. ;-)</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/journal.html" class="tag">journal</a>
            
            <a href="/tag/obsidian.html" class="tag">Obsidian</a>
            
            <a href="/tag/graph.html" class="tag">graph</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2023/09/10/textual-query-sandbox-update.html">Textual Query Sandbox Update</a></h2>
        
        <time datetime="2023-09-10T09:22:00+01:00">September 10, 2023 09:22:00 UTC+01:00</time>
        
        <div class="reading-time">2 min read</div>
        
        <div class="category">
            <a href="/category/python.html" class="category-link">Python</a>
        </div>
        
        <div class="post-content">
            <p>Since <a href="/2023/09/01/textual-query-sandbox.html">quickly hacking together <code>textual-query-sandbox</code> a few days
back</a>, I've made a bunch of small
changes here and there. While most have been cosmetic and playing with some
ideas, some have also been internal improvements that should make the tool
work better.</p>
<p>The most prominent change is one I pondered in the previous post, where I
thought it might be interesting to have a small collection of playgrounds
grounded together with a <code>TabbedContent</code>. So as of now the tool still has
the original playground which had an emphasis on nested containers:</p>
<p><img alt="Playground 1" src="/attachments/2023/09/10/tqs-1.png#centre" /></p>
<p>There's now a playground with an emphasis on selecting widgets within
containers<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>:</p>
<p><img alt="Playground 2" src="/attachments/2023/09/10/tqs-2.png#centre" /></p>
<p>There's also now a playground that has an emphasis on pulling out widgets
based on ID and classes:</p>
<p><img alt="Playground 3" src="/attachments/2023/09/10/tqs-3.png#centre" /></p>
<p>The other change you will notice from the original post is the DOM tree
shown in the bottom right corner. Note that that isn't there to show your
query result (that's the bottom left panel), it's there to help picture how
the DOM in the current playground hangs together, and will hopefully help in
picturing the structure for when you write a query.</p>
<p>I sense there's still a lot of fun things I could add to this, and I'm still
keen on the idea of having the playgrounds "soft coded" in some way, so
people can make their own and load them up.</p>
<p>Another thing I want to try and work on is making the display as useful as
possible. While I think it's actually pretty neat and clear, there's not a
<em>lot</em> of space<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup> available to show the playground and the results. Finding
a good balance is an interesting problem.</p>
<p>For a number of reasons this is turning into a really enjoyable tinker
project.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>This is, of course, slightly nonsensical wording. Containers <em>are</em>
widgets in Textual. Pretty much everything you see in your terminal is a
widget, even a <code>Screen</code> is a widget.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>A lot of this of course hinges on how big someone's terminal is. I
tend to run a fairly high resolutions with the smallest font I find
readable so my terminal windows are often pretty "big"; other people
tend to have something much smaller in terms of cell with/height.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>
        </div>
        
        <div class="tags">
            
            <a href="/tag/pypi.html" class="tag">PyPi</a>
            
            <a href="/tag/python.html" class="tag">Python</a>
            
            <a href="/tag/coding.html" class="tag">coding</a>
            
            <a href="/tag/textual.html" class="tag">Textual</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2023/09/01/textual-query-sandbox.html">Textual Query Sandbox</a></h2>
        
        <time datetime="2023-09-01T07:42:00+01:00">September 01, 2023 07:42:00 UTC+01:00</time>
        
        <div class="reading-time">3 min read</div>
        
        <div class="category">
            <a href="/category/python.html" class="category-link">Python</a>
        </div>
        
        <div class="post-content">
            <p>Sometimes I can have an idea for a Textual widget, library or application on
my ideas list for weeks, months even, before I get around to it -- mostly
just due to not having the clear time to make a run at getting it going --
and then other times an idea can pop into my head and it <em>has</em> to be created
there and then. <strong>Has</strong> to be!</p>
<p>This happened yesterday evening.</p>
<p>While the tool I built is something I'd thought of before (back around
November last year I think) it hadn't even made it to my <em>"list of stuff I
should make"</em> that I keep in Apple Reminders; not sure why really. But then
yesterday evening a question cropped up on the <a href="https://discord.gg/Enf6Z3qhVr" rel="noopener noreferrer" target="_blank">Textual Discord
server</a> that related to the subject and I was
reminded of it.</p>
<p>The subject being: <a href="https://textual.textualize.io/guide/queries/" rel="noopener noreferrer" target="_blank">Textual DOM
queries</a>. I like to think that
DOM queries in Textual are pretty easy to do, and well-explained in the
docs, but it's fair to admit that they need a bit of practice first, just
like any powerful tool. So I was reminded that I'd wanted to write a sandbox
application, that would have a practice DOM inside it, an input field to
type in a query, and a way of displaying the results.</p>
<p>So <a href="https://github.com/davep/textual-query-sandbox" rel="noopener noreferrer" target="_blank"><code>textual-query-sandbox</code></a>
was born!</p>
<p><img alt="Textual Query Sandbox" src="/attachments/2023/09/01/tqs.png#centre" /></p>
<p>In this very first version (which was <em>really</em> quickly put together -- it
was something like 15 minutes to write the main code and then probably 45
minutes tweaking styles, adding all the admin stuff to allow <a href="https://pypi.org/project/textual-query-sandbox/" rel="noopener noreferrer" target="_blank">deployment to
PyPi</a> and writing the
README) there's an <a href="https://textual.textualize.io/widgets/input/" rel="noopener noreferrer" target="_blank"><code>Input</code></a>,
a display of a group of nested containers with different IDs and classes,
and then a <a href="https://textual.textualize.io/widgets/pretty/" rel="noopener noreferrer" target="_blank"><code>Pretty</code></a> widget
at the bottom to show the
<a href="https://textual.textualize.io/guide/queries/#query-objects" rel="noopener noreferrer" target="_blank"><code>query</code></a>
result.</p>
<p>If you think this looks like it might be useful to you, it can be installed
using either <code>pip</code> or (ideally) <code>pipx</code>:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pipx<span class="w"> </span>install<span class="w"> </span>textual-query-sandbox
</code></pre></div>

<p>and then you can run it with:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>tqs
</code></pre></div>

<p>At which point load up the Textual query docs, type queries into the input
field, hit enter and see what gets highlighted and which widgets end up in
the result set at the bottom of the screen.</p>
<p>Like I say: this was a quick hack yesterday evening, I think there's a lot
more can go into this. For one thing I think a more interesting practice DOM
would be a good idea, with a good mix of widgets; another thing could be
having a collection of different DOM playgrounds that can be switched
between (a <code>TabbedContent</code> of different playgrounds could be fun here); this
could even be taken further such that the user can create their own
playground DOM to practice against.</p>
<p>Eventually it would be neat if this could be turned into a library that can
be included in a Textual application, as a development-time debug tool, so
that on-the-fly test queries can be made.</p>
<p>For now though, it's started, it's under way, and I think the current
version probably covers 90% of the use cases for something like this; making
for a really quick and easy tool to double-check how to query something.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/pypi.html" class="tag">PyPi</a>
            
            <a href="/tag/python.html" class="tag">Python</a>
            
            <a href="/tag/coding.html" class="tag">coding</a>
            
            <a href="/tag/textual.html" class="tag">Textual</a>
            
        </div>
        
    </article>
    
    
    
    
    
    
</div>

            </main>

            <footer>
                <p>Generated with <a href="https://github.com/davep/blogmore" target="_blank" rel="noopener noreferrer">Blogmore</a></p>
            </footer>
        </div>
    </div>
</body>
</html>