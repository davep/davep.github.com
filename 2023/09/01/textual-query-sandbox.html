<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="blogmore v0.14.0">
    <title>Textual Query Sandbox - davep</title>
    
    <link rel="icon" href="/icons/favicon.ico">
    
    
    <!-- Shortcut icon for backward compatibility -->
    <link rel="shortcut icon" href="/favicon.ico">
    <!-- Favicon alternatives -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/apple-touch-icon-167.png">
    <!-- Android/Chrome -->
    <link rel="manifest" href="/icons/site.webmanifest">
    <!-- Windows/Edge -->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/fontawesome.css">
    
    <link rel="stylesheet" href="/static/styles.min.css">
    
    
    <link rel="alternate" type="application/rss+xml" title="davep - RSS Feed" href="https://blog.davep.org/feed.xml">
    <link rel="alternate" type="application/atom+xml" title="davep - Atom Feed" href="https://blog.davep.org/feeds/all.atom.xml">
    
    
    
    
    
    
    
    









<meta name="author" content="Dave Pearson">



<meta name="description" content="Sometimes I can have an idea for a Textual widget, library or application on my ideas list for weeks, months even, before I get around to it -- mostly just due to not having the clear time to make a run at getting it going -- and then other times an idea can pop into my head and it has to be created there and then. Has to be!">


<meta name="keywords" content="PyPi, Python, coding, Textual">



<meta property="og:title" content="Textual Query Sandbox">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.davep.org/2023/09/01/textual-query-sandbox.html">

<meta property="og:description" content="Sometimes I can have an idea for a Textual widget, library or application on my ideas list for weeks, months even, before I get around to it -- mostly just due to not having the clear time to make a run at getting it going -- and then other times an idea can pop into my head and it has to be created there and then. Has to be!">

<meta property="og:site_name" content="davep">



<meta property="og:image" content="https://blog.davep.org/attachments/2023/09/01/tqs-cover.png">






<meta property="article:published_time" content="2023-09-01T07:42:00+01:00">


<meta property="article:modified_time" content="2023-09-01T07:42:00+01:00">


<meta property="article:author" content="Dave Pearson">


<meta property="article:section" content="Python">



<meta property="article:tag" content="PyPi">

<meta property="article:tag" content="Python">

<meta property="article:tag" content="coding">

<meta property="article:tag" content="Textual">





<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Textual Query Sandbox">

<meta name="twitter:description" content="Sometimes I can have an idea for a Textual widget, library or application on my ideas list for weeks, months even, before I get around to it -- mostly just due to not having the clear time to make a run at getting it going -- and then other times an idea can pop into my head and it has to be created there and then. Has to be!">




<meta name="twitter:image" content="https://blog.davep.org/attachments/2023/09/01/tqs-cover.png">





    <script src="/static/theme.min.js"></script>
    
</head>
<body>
    <div class="site-container">
        <aside class="sidebar">
            <div class="sidebar-content">
                <div class="sidebar-header">
                    
                    <div class="sidebar-logo">
                        <a href="/">
                            <img src="/logo.jpeg" alt="davep">
                        </a>
                    </div>
                    

                    <div class="sidebar-title">
                        <h1><a href="/">davep</a></h1>
                        
                        <p class="sidebar-subtitle">Code and stuff</p>
                        
                    </div>
                </div>

                
                <div class="sidebar-pages">
                    <ul class="sidebar-links">
                        
                        <li><a href="/about.html">About</a></li>
                        
                        <li><a href="/dotfiles.html">Dot Files</a></li>
                        
                    </ul>
                </div>
                

                
                <section class="sidebar-section">
                    <h2>Links</h2>
                    <ul class="sidebar-links">
                        
                        <li><a href="https://davep.at/" target="_blank" rel="noopener noreferrer">davep@</a></li>
                        
                        <li><a href="https://raindrop.io/davep/public-46742255/sort=-created&amp;perpage=30&amp;page=0" target="_blank" rel="noopener noreferrer">Bookmarks</a></li>
                        
                        <li><a href="https://seenbydavep.blogspot.com/" target="_blank" rel="noopener noreferrer">Photoblog</a></li>
                        
                        <li><a href="https://elisp.dev/" target="_blank" rel="noopener noreferrer">Emacs Packages</a></li>
                        
                        <li><a href="https://pypi.org/user/davepearson/" target="_blank" rel="noopener noreferrer">Python Packages</a></li>
                        
                    </ul>
                </section>
                

                
                <section class="sidebar-section">
                    <h2>Social</h2>
                    <div class="sidebar-socials">
                        
                        <a href="https://www.flickr.com/photos/davepearson/" title="flickr" aria-label="flickr" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-flickr"></i>
                        </a>
                        
                        <a href="https://github.com/davep" title="github" aria-label="github" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-github"></i>
                        </a>
                        
                        <a href="https://www.last.fm/user/davepdotorg" title="lastfm" aria-label="lastfm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-lastfm"></i>
                        </a>
                        
                        <a href="https://fosstodon.org/@davep" title="mastodon" aria-label="mastodon" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-mastodon"></i>
                        </a>
                        
                        <a href="https://www.npmjs.com/~davep.org" title="npm" aria-label="npm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-npm"></i>
                        </a>
                        
                        <a href="https://steamcommunity.com/id/davepdotorg" title="steam" aria-label="steam" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-steam"></i>
                        </a>
                        
                        <a href="https://www.youtube.com/user/daveporg" title="youtube" aria-label="youtube" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-youtube"></i>
                        </a>
                        
                    </div>
                </section>
                
            </div>
        </aside>

        <div class="main-wrapper">
            <header>
                <nav>
                    <ul>
                        <li><a href="/categories.html">Categories</a></li>
                        <li><a href="/tags.html">Tags</a></li>
                        <li><a href="/archive.html">Archive</a></li>
                        
                        <li><a href="/search.html">Search</a></li>
                        
                        
                        <li><a href="/feed.xml" title="Subscribe via RSS feed">RSS</a></li>
                        <li><a href="/feeds/all.atom.xml" title="Subscribe via Atom feed">Atom</a></li>
                        
                        <li>
                            <button class="theme-toggle" type="button" aria-label="Toggle theme">
                                <span class="icon light-icon">‚òÄÔ∏è</span>
                                <span class="icon dark-icon">üåô</span>
                                <span class="theme-label">Theme</span>
                            </button>
                        </li>
                    </ul>
                </nav>
            </header>

            <main>
                
<article class="post">
    
    <nav class="post-navigation post-navigation-top">
        
        <a href="/2023/08/27/mythos-ragnarok.html" class="post-nav-link post-nav-prev" title="Mythos: Ragnarok (plus Oppenheimer)">
            <span class="post-nav-label">‚Üê Previous Post</span>
        </a>
        
        
        <a href="/2023/09/10/textual-query-sandbox-update.html" class="post-nav-link post-nav-next" title="Textual Query Sandbox Update">
            <span class="post-nav-label">Next Post ‚Üí</span>
        </a>
        
    </nav>
    
    
    <header class="post-header">
        <h1>Textual Query Sandbox</h1>
        
        <time datetime="2023-09-01T07:42:00+01:00"><a href="/2023/">2023</a>-<a href="/2023/09/">09</a>-<a href="/2023/09/01/">01</a> 07:42:00 UTC+01:00</time>
        
        <div class="reading-time">3 min read</div>
        
        <div class="category">
            <a href="/category/python.html" class="category-link">Python</a>
        </div>
        
    </header>
    
    <div class="post-content">
        <p>Sometimes I can have an idea for a Textual widget, library or application on
my ideas list for weeks, months even, before I get around to it -- mostly
just due to not having the clear time to make a run at getting it going --
and then other times an idea can pop into my head and it <em>has</em> to be created
there and then. <strong>Has</strong> to be!</p>
<p>This happened yesterday evening.</p>
<p>While the tool I built is something I'd thought of before (back around
November last year I think) it hadn't even made it to my <em>"list of stuff I
should make"</em> that I keep in Apple Reminders; not sure why really. But then
yesterday evening a question cropped up on the <a href="https://discord.gg/Enf6Z3qhVr" rel="noopener noreferrer" target="_blank">Textual Discord
server</a> that related to the subject and I was
reminded of it.</p>
<p>The subject being: <a href="https://textual.textualize.io/guide/queries/" rel="noopener noreferrer" target="_blank">Textual DOM
queries</a>. I like to think that
DOM queries in Textual are pretty easy to do, and well-explained in the
docs, but it's fair to admit that they need a bit of practice first, just
like any powerful tool. So I was reminded that I'd wanted to write a sandbox
application, that would have a practice DOM inside it, an input field to
type in a query, and a way of displaying the results.</p>
<p>So <a href="https://github.com/davep/textual-query-sandbox" rel="noopener noreferrer" target="_blank"><code>textual-query-sandbox</code></a>
was born!</p>
<p><img alt="Textual Query Sandbox" src="/attachments/2023/09/01/tqs.png#centre" /></p>
<p>In this very first version (which was <em>really</em> quickly put together -- it
was something like 15 minutes to write the main code and then probably 45
minutes tweaking styles, adding all the admin stuff to allow <a href="https://pypi.org/project/textual-query-sandbox/" rel="noopener noreferrer" target="_blank">deployment to
PyPi</a> and writing the
README) there's an <a href="https://textual.textualize.io/widgets/input/" rel="noopener noreferrer" target="_blank"><code>Input</code></a>,
a display of a group of nested containers with different IDs and classes,
and then a <a href="https://textual.textualize.io/widgets/pretty/" rel="noopener noreferrer" target="_blank"><code>Pretty</code></a> widget
at the bottom to show the
<a href="https://textual.textualize.io/guide/queries/#query-objects" rel="noopener noreferrer" target="_blank"><code>query</code></a>
result.</p>
<p>If you think this looks like it might be useful to you, it can be installed
using either <code>pip</code> or (ideally) <code>pipx</code>:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pipx<span class="w"> </span>install<span class="w"> </span>textual-query-sandbox
</code></pre></div>

<p>and then you can run it with:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>tqs
</code></pre></div>

<p>At which point load up the Textual query docs, type queries into the input
field, hit enter and see what gets highlighted and which widgets end up in
the result set at the bottom of the screen.</p>
<p>Like I say: this was a quick hack yesterday evening, I think there's a lot
more can go into this. For one thing I think a more interesting practice DOM
would be a good idea, with a good mix of widgets; another thing could be
having a collection of different DOM playgrounds that can be switched
between (a <code>TabbedContent</code> of different playgrounds could be fun here); this
could even be taken further such that the user can create their own
playground DOM to practice against.</p>
<p>Eventually it would be neat if this could be turned into a library that can
be included in a Textual application, as a development-time debug tool, so
that on-the-fly test queries can be made.</p>
<p>For now though, it's started, it's under way, and I think the current
version probably covers 90% of the use cases for something like this; making
for a really quick and easy tool to double-check how to query something.</p>
    </div>
    
    
    <div class="tags">
        
        <a href="/tag/pypi.html" class="tag">PyPi</a>
        
        <a href="/tag/python.html" class="tag">Python</a>
        
        <a href="/tag/coding.html" class="tag">coding</a>
        
        <a href="/tag/textual.html" class="tag">Textual</a>
        
    </div>
    
    
    
    <nav class="post-navigation post-navigation-bottom">
        
        <a href="/2023/08/27/mythos-ragnarok.html" class="post-nav-link post-nav-prev" title="Mythos: Ragnarok (plus Oppenheimer)">
            <span class="post-nav-label">‚Üê Previous Post</span>
        </a>
        
        
        <a href="/2023/09/10/textual-query-sandbox-update.html" class="post-nav-link post-nav-next" title="Textual Query Sandbox Update">
            <span class="post-nav-label">Next Post ‚Üí</span>
        </a>
        
    </nav>
    
</article>

            </main>

            <footer>
                <p>Generated with <a href="https://github.com/davep/blogmore" target="_blank" rel="noopener noreferrer">Blogmore</a></p>
            </footer>
        </div>
    </div>
</body>
</html>