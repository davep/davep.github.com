<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="blogmore v0.10.0">
    <title>Posts from 2020 - davep</title>
    
    <link rel="icon" href="/icons/favicon.ico">
    
    
    <!-- Shortcut icon for backward compatibility -->
    <link rel="shortcut icon" href="/favicon.ico">
    <!-- Favicon alternatives -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/apple-touch-icon-167.png">
    <!-- Android/Chrome -->
    <link rel="manifest" href="/icons/site.webmanifest">
    <!-- Windows/Edge -->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/static/style.css">
    
    
    <link rel="alternate" type="application/rss+xml" title="davep - RSS Feed" href="https://blog.davep.org/feed.xml">
    <link rel="alternate" type="application/atom+xml" title="davep - Atom Feed" href="https://blog.davep.org/feeds/all.atom.xml">
    
    
    <script src="/static/theme.js"></script>
    
</head>
<body>
    <div class="site-container">
        <aside class="sidebar">
            <div class="sidebar-content">
                <div class="sidebar-header">
                    
                    <div class="sidebar-logo">
                        <a href="/">
                            <img src="/logo.jpeg" alt="davep">
                        </a>
                    </div>
                    

                    <div class="sidebar-title">
                        <h1><a href="/">davep</a></h1>
                        
                        <p class="sidebar-subtitle">Code and stuff</p>
                        
                    </div>
                </div>

                
                <div class="sidebar-pages">
                    <ul class="sidebar-links">
                        
                        <li><a href="/about.html">About</a></li>
                        
                        <li><a href="/dotfiles.html">Dot Files</a></li>
                        
                    </ul>
                </div>
                

                
                <section class="sidebar-section">
                    <h2>Links</h2>
                    <ul class="sidebar-links">
                        
                        <li><a href="https://davep.at/" target="_blank" rel="noopener noreferrer">davep@</a></li>
                        
                        <li><a href="https://raindrop.io/davep/public-46742255/sort=-created&amp;perpage=30&amp;page=0" target="_blank" rel="noopener noreferrer">Bookmarks</a></li>
                        
                        <li><a href="https://seenbydavep.blogspot.com/" target="_blank" rel="noopener noreferrer">Photoblog</a></li>
                        
                        <li><a href="https://elisp.dev/" target="_blank" rel="noopener noreferrer">Emacs Packages</a></li>
                        
                        <li><a href="https://pypi.org/user/davepearson/" target="_blank" rel="noopener noreferrer">Python Packages</a></li>
                        
                    </ul>
                </section>
                

                
                <section class="sidebar-section">
                    <h2>Social</h2>
                    <div class="sidebar-socials">
                        
                        <a href="https://www.flickr.com/photos/davepearson/" title="flickr" aria-label="flickr" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-flickr"></i>
                        </a>
                        
                        <a href="https://github.com/davep" title="github" aria-label="github" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-github"></i>
                        </a>
                        
                        <a href="https://www.last.fm/user/davepdotorg" title="lastfm" aria-label="lastfm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-lastfm"></i>
                        </a>
                        
                        <a href="https://fosstodon.org/@davep" title="mastodon" aria-label="mastodon" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-mastodon"></i>
                        </a>
                        
                        <a href="https://www.npmjs.com/~davep.org" title="npm" aria-label="npm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-npm"></i>
                        </a>
                        
                        <a href="https://steamcommunity.com/id/davepdotorg" title="steam" aria-label="steam" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-steam"></i>
                        </a>
                        
                        <a href="https://www.youtube.com/user/daveporg" title="youtube" aria-label="youtube" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-youtube"></i>
                        </a>
                        
                    </div>
                </section>
                
            </div>
        </aside>

        <div class="main-wrapper">
            <header>
                <nav>
                    <ul>
                        <li><a href="/categories.html">Categories</a></li>
                        <li><a href="/tags.html">Tags</a></li>
                        <li><a href="/archive.html">Archive</a></li>
                        
                        <li><a href="/search.html">Search</a></li>
                        
                        
                        <li><a href="/feed.xml" title="Subscribe via RSS feed">RSS</a></li>
                        <li><a href="/feeds/all.atom.xml" title="Subscribe via Atom feed">Atom</a></li>
                        
                        <li>
                            <button class="theme-toggle" type="button" aria-label="Toggle theme">
                                <span class="icon light-icon">‚òÄÔ∏è</span>
                                <span class="icon dark-icon">üåô</span>
                                <span class="theme-label">Theme</span>
                            </button>
                        </li>
                    </ul>
                </nav>
            </header>

            <main>
                
<div class="archive">
    <h1>Posts from 2020</h1>
    
    
    
    
    
    <article class="post-summary">
        <h2><a href="/2020/06/07/some-more-dot-emacs-dot-d-evolution.html">Some more ~/.emacs.d evolution</a></h2>
        
        <time datetime="2020-06-07T16:48:00+01:00"><a href="/2020/">2020</a>-<a href="/2020/06/">06</a>-<a href="/2020/06/07/">07</a> 16:48:00 UTC+01:00</time>
        
        <div class="reading-time">4 min read</div>
        
        <div class="category">
            <a href="/category/emacs.html" class="category-link">Emacs</a>
        </div>
        
        <div class="post-content">
            <p>When I started with this version of the blog on Hashnode<sup id="fnref:171-1"><a class="footnote-ref" href="#fn:171-1">1</a></sup>, my plan was to
try and write something at least once a week. I managed to do that as far as
January this year, give or take, but then things got a little busy, the
world got trickier, and... Well, <a href="https://en.wikipedia.org/wiki/COVID-19_pandemic" rel="noopener noreferrer" target="_blank">you don't need me to tell you about
that</a>. Anyway, I'm back to
write some more and, hopefully, try and keep up with writing. I feel it'll
do me good.</p>
<p>I have been busy since January. Work has, as far as possible, carried on as
normal. The only big difference being I'm back working from home. It's an
odd turn of events personally given that I'd worked from home for 21 years,
then (with some trepidation) <a href="/2017/12/12/on_to_something_new.html">went back to working in an
office</a>. Having got used to being in
an office and being around people, it took some adjusting to working alone
again.</p>
<p>So, on to the main point of this post... During that period I've spent a lot
more time at my machine than I would normally, and so it was inevitable that
I'd end up tinkering with <a href="https://github.com/davep/.emacs.d" rel="noopener noreferrer" target="_blank">my Emacs
configuration</a>. While it's true that
<a href="/2019/11/23/visual-evolution-of-emacs-config.html">there's hardly a week goes by where I don't tinker with some small
thing</a>, I try not to make
huge changes too often. Huge changes do happen though.</p>
<p>A handful of weeks back was another one of those times where I made a big
change.</p>
<p>After I <a href="/2016/05/26/starting_fresh_with_gnu_emacs.html">burnt my original <code>~/.emacs</code> file back in
2016</a> I've had an approach
where I've tried to make things as modular as possible, and as easy to clone
down to a new machine as possible. The design I came up with, <a href="/2017/07/13/more_revamping_of_my_emacs_config.html">especially
once I moved over to using
<code>use-package</code></a>, has
served me well. But there was always one thing that bothered me: the files
that handled the loading and configuration of packages were, in effect,
<a href="https://github.com/davep/.emacs.d/tree/728e74376bf5606d9ef2d297e36cc2d35e159d64/init.d/packages" rel="noopener noreferrer" target="_blank">still three large monolithic
files</a>.
While this was better than a single monolithic <code>~/.emacs</code>, it still didn't
feel quite right.</p>
<p>Giving it a bit of thought, I decided that what I really wanted was a single
directory in which I could drop lots of small <code>.el</code> files that would handle
the loading and configuration of all sorts of packages. While it didn't gain
anything concrete, the idea felt tidier. Tidy is good. Feeling like the code
smell is good, is good too.</p>
<p>First though I needed a way to load multiple files, ideally within a whole
directory hierarchy, without needing to know in advance what files would be
there. After a little bit of tinkering I settled on <a href="https://github.com/davep/.emacs.d/blob/c3d53152b1adc9ba5e43baddb986870b3244b113/init.d/init-packages.el#L42-L46" rel="noopener noreferrer" target="_blank">this bit of
code</a>
that revolves around the use of
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Contents-of-Directories.html" rel="noopener noreferrer" target="_blank"><code>directory-files-recursively</code></a>:</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nv">source</span><span class="w"> </span><span class="p">(</span><span class="nf">expand-file-name</span><span class="w"> </span><span class="s">&quot;init.d/packages.d/&quot;</span><span class="w"> </span><span class="nv">user-emacs-directory</span><span class="p">)))</span>
<span class="w">  </span><span class="p">(</span><span class="nb">when</span><span class="w"> </span><span class="p">(</span><span class="nf">file-exists-p</span><span class="w"> </span><span class="nv">source</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nb">cl-loop</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="p">(</span><span class="nv">directory-files-recursively</span><span class="w"> </span><span class="nv">source</span><span class="w"> </span><span class="p">(</span><span class="nb">rx</span><span class="w"> </span><span class="s">&quot;.el&quot;</span><span class="w"> </span><span class="nv">eol</span><span class="p">))</span>
<span class="w">             </span><span class="nb">do</span><span class="w"> </span><span class="p">(</span><span class="nf">load</span><span class="w"> </span><span class="p">(</span><span class="nv">file-name-sans-extension</span><span class="w"> </span><span class="nv">use</span><span class="p">)))))</span>
</code></pre></div>

<p>Simply put, this code finds every file in and below
<a href="https://github.com/davep/.emacs.d/tree/master/init.d/packages.d" rel="noopener noreferrer" target="_blank"><code>~/.emacs.d/init.d/packages.d/</code></a>
whose name ends in <code>.el</code> (note the use of a regular expression, using
<a href="/2019/12/01/being-phony-and-lispy-regular-expressions.html"><code>rx</code></a>
to create it), removes the extension from the name, and loads it with <code>load</code>
(dropping the extension means <code>load</code> can decide if it wants to load the
compiled version of the code, or the source, depending on what's available).</p>
<p>After writing that I could then start to populate
<code>~/.emacs.d/init.d/packages.d/</code> with lots of smaller files that handled the
loading of packages. In some cases there's a file just for one package, in
other cases there's a file that handles a logical grouping of packages
(where there are obvious direct dependencies, or where one package is
designed to extend the other, etc). For now I've decided to break things
down into three directories that map to the three monolithic files I had
before:</p>
<p><img alt="Screenshot 2020-06-07 at 16.36.28.png" src="/attachments/2020/06/07/Screenshot 2020-06-07 at 16.36.28.png" /></p>
<p>However, I'm not totally wedded to this design and I may change this as time
goes on.</p>
<p>While I've not spent any time properly testing it out, I've also not really
noticed any obvious impact on startup speed. However, this tends not to be a
real concern for me. I seldom <em>start</em> Emacs anyway. I always have it running
<a href="https://github.com/davep/e" rel="noopener noreferrer" target="_blank">and use <code>emacsclient</code> as my editor in most places so files open instantly
in the running version of Emacs</a>.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:171-1">
<p>Note from future me: we're now back over on <code>blog.davep.org</code> of
course.&#160;<a class="footnote-backref" href="#fnref:171-1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
        </div>
        
        <div class="tags">
            
            <a href="/tag/emacs.html" class="tag">Emacs</a>
            
            <a href="/tag/lisp.html" class="tag">Lisp</a>
            
            <a href="/tag/emacs-lisp.html" class="tag">Emacs Lisp</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2020/01/19/dnote-el.html">dnote.el - A wrapper for the dnote CLI</a></h2>
        
        <time datetime="2020-01-19T16:35:00+00:00"><a href="/2020/">2020</a>-<a href="/2020/01/">01</a>-<a href="/2020/01/19/">19</a> 16:35:00 UTC</time>
        
        <div class="reading-time">3 min read</div>
        
        <div class="category">
            <a href="/category/emacs.html" class="category-link">Emacs</a>
        </div>
        
        <div class="post-content">
            <p>Late on last year I stumbled on an article about
<a href="https://www.getdnote.com/" rel="noopener noreferrer" target="_blank">dnote</a>. Annoyingly, I can't recall now where I
saw it, but I made a reminder to look at it over my Christmas break.</p>
<p>Dnote looked like a tool that would fill a hole I had in how I work. When it
comes to making notes about things, and keeping things for future reference,
I use a few tools, each one being just right (for me) for the job in
question. I use <a href="https://evernote.com/" rel="noopener noreferrer" target="_blank">Evernote</a> to track documents and
other household type things. I use <a href="https://www.google.com/keep/" rel="noopener noreferrer" target="_blank">Keep</a> to
make notes about stuff I need to remember short-term (say, the size of a
space in my bedroom that I want furniture to go in) and also to record notes
while in meetings at work. I use <a href="https://journey.cloud/" rel="noopener noreferrer" target="_blank">Journey</a> to keep a
journal about... anything, really. Finally, <a href="https://pinboard.in/u:davep" rel="noopener noreferrer" target="_blank">I use
Pinboard</a> to keep hold of URLs I might want to
go back to (I also use it to create a to-read list).</p>
<p>Amongst all of this, however, I felt I was missing something for keeping
track of things that don't really fall into any of the categories above.
Mostly this would be work-based or hacking-based things that are short and
sweet but I don't always use enough to easily remember. I wanted just the
right tool that would let me ferret away useful one-liners, remind myself of
obscure switches that get used once or twice a year, etc.</p>
<p>After reading up on dnote it seemed pretty clear that this was just such a
tool.</p>
<p>After getting back to the office at the start of this month I decided to
make use of it and see how it went. My idea was simple: I'd record any "TIL"
stuff that I might want to remember in the future, as well as recording
things I need now and again but can't always remember.</p>
<p>So far it's working quite well. I like that it has a simple CLI. I like that
it's got a backend that you can use to sync between different machines. I
like that it's got a web interface that's mobile-friendly. I like that <a href="https://github.com/dnote/dnote" rel="noopener noreferrer" target="_blank">it's
Free Software</a> and so you can host your own
server if you wish.</p>
<p>I found I liked it enough that, of course, I felt the need to start <a href="https://github.com/davep/dnote.el" rel="noopener noreferrer" target="_blank">a
simple Emacs wrapper for the CLI</a>.</p>
<p>At the moment dnote.el is designed to be a simple capture system. There are
commands for capturing a one-liner (entered in the Emacs mini-buffer), for
capturing the content of the current buffer, and for capturing
freshly-entered multi-line text, entered in a buffer that uses
<code>markdown-mode</code>. There's also a command for syncing notes if you have
configured dnote to talk to a backend.</p>
<p>What I don't have right now is the ability to navigate and view notes. So
far I've not really felt the need for that because the CLI approach works so
well. Longer-term though I can see my tweaking this and adding in commands
for searching, viewing, editing and deleting notes.</p>
<p>But, for now, if you've not had a look at dnote, I'd highly recommend having
a play and seeing if it makes sense for you. And, if it does, and you're an
Emacs user, perhaps dnote.el will be useful too?</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/emacs.html" class="tag">Emacs</a>
            
            <a href="/tag/lisp.html" class="tag">Lisp</a>
            
            <a href="/tag/emacs-lisp.html" class="tag">Emacs Lisp</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2020/01/11/where-i-live-and-work.html">Where I live and work</a></h2>
        
        <time datetime="2020-01-11T14:17:00+00:00"><a href="/2020/">2020</a>-<a href="/2020/01/">01</a>-<a href="/2020/01/11/">11</a> 14:17:00 UTC</time>
        
        <div class="reading-time">2 min read</div>
        
        <div class="category">
            <a href="/category/coding.html" class="category-link">Coding</a>
        </div>
        
        <div class="post-content">
            <p>It's no surprise that I spend a lot of time in Emacs. Especially when I'm
developing software, either for work or for personal fun, most of my time is
time spent in Emacs. While I do obviously flit over to Chrome, and mostly do
my CLI stuff in <a href="https://iterm2.com/" rel="noopener noreferrer" target="_blank">iTerm2</a> (I really like
<a href="https://www.gnu.org/software/emacs/manual/html_mono/eshell.html" rel="noopener noreferrer" target="_blank">eshell</a>
but it just can't replace a good terminal for me), I spend a lot of time
looking at Emacs.</p>
<p>Here's what my Emacs looks like:</p>
<p><img alt="Screenshot 2020-01-11 at 13.49.04.png" src="/attachments/2020/01/11/Screenshot 2020-01-11 at 13.49.04.png#centre" /></p>
<p>Key elements for me are as follows:</p>
<h1 id="light-background">Light background</h1>
<p>Something I've never really got on with when it comes to code editing is
dark themes and dark backgrounds. I find it too much of an eye strain.
Oddly, I tend to prefer dark themes everywhere else, but not when it comes
to working in Emacs. The theme I use is <a href="https://github.com/davep/.emacs.d/blob/b9a3df42f0708eabc31a6176d69a67bbdf31a087/init.d/init-style.el#L12-L13" rel="noopener noreferrer" target="_blank">the built-in adwaita
theme</a>.</p>
<h1 id="less-boring-mode-line">Less boring mode line</h1>
<p>I make use of <a href="https://github.com/milkypostman/powerline" rel="noopener noreferrer" target="_blank">powerline</a> to
<a href="https://github.com/davep/.emacs.d/blob/b9a3df42f0708eabc31a6176d69a67bbdf31a087/init.d/packages/init-packages-melpa.el#L386-L399" rel="noopener noreferrer" target="_blank">make the mode line a bit less
boring-looking</a>.
While the colour scheme is such that it's kept in line with the light look,
the style is nice in that it sort of matches the style of prompt I use in my
shell.</p>
<p><img alt="Screenshot 2020-01-11 at 14.05.39.png" src="/attachments/2020/01/11/Screenshot 2020-01-11 at 14.05.39.png#centre" /></p>
<h1 id="full-screen">Full screen</h1>
<p>I always run Emacs as a full-screen application, then splitting it into
different tiled windows using its own internal window handling. This is
something I've done from way back when I got started with my first GNU/Linux
desktop machine, and still like to do on macOS.</p>
<p>I also <a href="https://github.com/davep/longmacs.el" rel="noopener noreferrer" target="_blank">run Emacs as a server</a> and
then use <a href="https://github.com/davep/e" rel="noopener noreferrer" target="_blank">a little wrapper around <code>emacsclient</code></a>
to open files (both locally and remotely) from the command line in that
Emacs session.</p>
<h1 id="comfortable-eshell-when-i-need-it">Comfortable eshell when I need it</h1>
<p>Although I say above that I generally don't use <code>eshell</code>, preferring to use
a full-featured terminal application, in combination with
<a href="https://fishshell.com/" rel="noopener noreferrer" target="_blank">fish</a>, I do sometimes dip into eshell for quick
things. So of course I have that configured to feel comfortable too.</p>
<p><img alt="Screenshot 2020-01-11 at 14.10.07.png" src="/attachments/2020/01/11/Screenshot 2020-01-11 at 14.10.07.png#centre" /></p>
<p>I do this easily <a href="https://github.com/davep/.emacs.d/blob/b9a3df42f0708eabc31a6176d69a67bbdf31a087/init.d/packages/init-packages-melpa.el#L181-L192" rel="noopener noreferrer" target="_blank">thanks to
<code>eshell-git-prompt</code></a>.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/emacs.html" class="tag">Emacs</a>
            
            <a href="/tag/shell.html" class="tag">shell</a>
            
        </div>
        
    </article>
    
    
    
    
    
    
    <nav class="pagination">
        
            
                <a href="/2020/page/2.html" class="pagination-prev">‚Üê Previous</a>
            
        
        
        <span class="pagination-info">Page 3 of 3</span>
        
        
    </nav>
    
</div>

            </main>

            <footer>
                <p>Generated with <a href="https://github.com/davep/blogmore" target="_blank" rel="noopener noreferrer">Blogmore</a></p>
            </footer>
        </div>
    </div>
</body>
</html>