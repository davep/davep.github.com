<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="blogmore v0.4.0">
    <title>Tag: GitHub - davep</title>
    
    <link rel="icon" href="/icons/favicon.ico">
    
    
    <!-- Favicon alternatives -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/apple-touch-icon-167.png">
    <!-- Android/Chrome -->
    <link rel="manifest" href="/icons/site.webmanifest">
    <!-- Windows/Edge -->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/static/style.css">
    
    
    <link rel="alternate" type="application/rss+xml" title="davep - RSS Feed" href="https://blog.davep.org/feed.xml">
    <link rel="alternate" type="application/atom+xml" title="davep - Atom Feed" href="https://blog.davep.org/feeds/all.atom.xml">
    
    
    <script src="/static/theme.js"></script>
    
</head>
<body>
    <div class="site-container">
        <aside class="sidebar">
            <div class="sidebar-content">
                <div class="sidebar-header">
                    
                    <div class="sidebar-logo">
                        <a href="/">
                            <img src="/davep.jpeg" alt="davep">
                        </a>
                    </div>
                    

                    <div class="sidebar-title">
                        <h1><a href="/">davep</a></h1>
                        
                        <p class="sidebar-subtitle">Code, Emacs, VR, Stuff...</p>
                        
                    </div>
                </div>

                
                <div class="sidebar-pages">
                    <ul class="sidebar-links">
                        
                        <li><a href="/about.html">About</a></li>
                        
                        <li><a href="/dotfiles.html">Dot Files</a></li>
                        
                    </ul>
                </div>
                

                
                <section class="sidebar-section">
                    <h2>Links</h2>
                    <ul class="sidebar-links">
                        
                        <li><a href="http://davep.at/" target="_blank" rel="noopener noreferrer">davep@</a></li>
                        
                        <li><a href="https://raindrop.io/davep/public-46742255/sort=-created&amp;perpage=30&amp;page=0" target="_blank" rel="noopener noreferrer">Bookmarks</a></li>
                        
                        <li><a href="https://seenbydavep.blogspot.com/" target="_blank" rel="noopener noreferrer">Photoblog</a></li>
                        
                        <li><a href="https://elisp.dev/" target="_blank" rel="noopener noreferrer">Emacs Packages</a></li>
                        
                        <li><a href="https://pypi.org/user/davepearson/" target="_blank" rel="noopener noreferrer">Python Packages</a></li>
                        
                    </ul>
                </section>
                

                
                <section class="sidebar-section">
                    <h2>Social</h2>
                    <div class="sidebar-socials">
                        
                        <a href="https://github.com/davep" title="github" aria-label="github" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-github"></i>
                        </a>
                        
                        <a href="https://fosstodon.org/@davep" title="mastodon" aria-label="mastodon" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-mastodon"></i>
                        </a>
                        
                        <a href="https://www.flickr.com/photos/davepearson/" title="flickr" aria-label="flickr" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-flickr"></i>
                        </a>
                        
                        <a href="https://www.last.fm/user/davepdotorg" title="lastfm" aria-label="lastfm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-lastfm"></i>
                        </a>
                        
                        <a href="https://www.npmjs.com/~davep.org" title="npm" aria-label="npm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-npm"></i>
                        </a>
                        
                        <a href="https://www.youtube.com/user/daveporg" title="youtube" aria-label="youtube" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-youtube"></i>
                        </a>
                        
                        <a href="https://steamcommunity.com/id/davepdotorg" title="steam" aria-label="steam" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-steam"></i>
                        </a>
                        
                    </div>
                </section>
                
            </div>
        </aside>

        <div class="main-wrapper">
            <header>
                <nav>
                    <ul>
                        <li><a href="/categories.html">Categories</a></li>
                        <li><a href="/tags.html">Tags</a></li>
                        <li><a href="/archive.html">Archive</a></li>
                        
                        <li><a href="/feed.xml" title="Subscribe via RSS feed">RSS</a></li>
                        <li><a href="/feeds/all.atom.xml" title="Subscribe via Atom feed">Atom</a></li>
                        
                        <li>
                            <button class="theme-toggle" type="button" aria-label="Toggle theme">
                                <span class="icon light-icon">‚òÄÔ∏è</span>
                                <span class="icon dark-icon">üåô</span>
                                <span class="theme-label">Theme</span>
                            </button>
                        </li>
                    </ul>
                </nav>
            </header>

            <main>
                
<div class="tag-page">
    <h1>Posts tagged with "GitHub"</h1>
    
    
    
    <article class="post-summary">
        <h2><a href="/2025/02/28/mkdocs-gh-pages-redux.html">MkDocs/mkdocstrings 404 CSS TIL update</a></h2>
        
        <time datetime="2025-02-28T22:23:00+00:00">February 28, 2025 22:23:00 UTC</time>
        
        <div class="reading-time">1 min read</div>
        
        <div class="category">
            <a href="/category/coding.html" class="category-link">Coding</a>
        </div>
        
        <div class="post-content">
            <p>Following on from <a href="/2025/02/28/documenting-fspicker.html">my post this
morning</a>, regarding the problem I was
having with <code>_mkdocstrings.css</code> being 404 any time I deployed by
documentation, build with <code>mkdocs</code>/<code>mkdocstrings</code>, to GitHub Pages...</p>
<p>It's come to light that I was doing this on hard mode, pretty much.</p>
<p>While trying to figure out the best way of deploying the docs, I'd stumbled
on <code>ghp-import</code> and had been using that. On the other hand, MkDocs has it's
own command for doing the same thing: <a href="https://www.mkdocs.org/user-guide/deploying-your-docs/" rel="noopener noreferrer" target="_blank"><code>mkdocs
gh-deploy</code></a>.</p>
<p>Timoth√©e <a href="https://github.com/mkdocstrings/mkdocstrings/discussions/742#discussioncomment-12351028" rel="noopener noreferrer" target="_blank">pointed out to
me</a>
that he never runs into this problem, but he used this command. As it turns
out, if you use <code>mkdocs gh-deploy</code> it creates the <code>.nojekyll</code> file by
default.</p>
<p>And how does it do this? It uses the <code>ghp-import</code> code <a href="https://github.com/mkdocs/mkdocs/blob/4c7404485f988f409ccaf42fefe705222ff5965a/mkdocs/commands/gh_deploy.py#L138" rel="noopener noreferrer" target="_blank">and uses a switch it
has to achieve exactly
this</a>.
In fact... the command line version even has a switch for it!</p>
<div class="highlight"><pre><span></span><code>-n, --no-jekyll      Include a .nojekyll file in the branch.
</code></pre></div>

<p>This is off by default, when you run the command itself, but I wish I'd
noticed this when I was first experimenting. O_o</p>
<p>Anyway, thanks to Timoth√©e's pointers, I've now managed to <a href="https://github.com/davep/textual-fspicker/pull/39/files" rel="noopener noreferrer" target="_blank">simplify how I
build and publish the docs from
<code>textual-fspicker</code></a>,
and I'll apply this to other projects too.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/documentation.html" class="tag">documentation</a>
            
            <a href="/tag/github.html" class="tag">GitHub</a>
            
            <a href="/tag/mkdocs.html" class="tag">mkdocs</a>
            
            <a href="/tag/mkdocstrings.html" class="tag">mkdocstrings</a>
            
            <a href="/tag/gh-pages.html" class="tag">gh-pages</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2025/02/28/documenting-fspicker.html">Documenting textual-fspicker (plus a TIL)</a></h2>
        
        <time datetime="2025-02-28T11:45:00+00:00">February 28, 2025 11:45:00 UTC</time>
        
        <div class="reading-time">4 min read</div>
        
        <div class="category">
            <a href="/category/coding.html" class="category-link">Coding</a>
        </div>
        
        <div class="post-content">
            <p>I've just made a wee update to
<a href="https://github.com/davep/textual-fspicker" rel="noopener noreferrer" target="_blank"><code>textual-fspicker</code></a>, my dialog
library for <a href="https://textual.textualize.io" rel="noopener noreferrer" target="_blank">Textual</a> which adds <code>FileOpen</code>,
<code>FileSave</code> and <code>SelectDirectory</code> dialogs. There's no substantial change to
the workings of the library itself, but I have added something it's been
lacking for a long time: documentation!</p>
<p>Well... that's not quite true, it's always had documentation. I'm an avid
writer of Python docstrings and I make a point of always writing them for
every class, function, method or global value as I write the code. As such
the low-level "API" documentation has always been sat there ready to be
published somehow, eventually.</p>
<p>Meanwhile the description for how to use the library was mostly a pointer to
some example code inside the README. Not ideal, and something I really
wanted to improve at some point.</p>
<p>Given I'm still on a bit of a coding spree in my spare time, I finally
decided to get round to using the amazing
<a href="https://mkdocstrings.github.io" rel="noopener noreferrer" target="_blank">mkdocstrings</a>, in conjunction with
<a href="https://www.mkdocs.org" rel="noopener noreferrer" target="_blank">mkdocs</a>, to <a href="https://blog.davep.org/textual-fspicker/">get some better documentation up an
running</a>.</p>
<p>The approach I decided to take with the documentation was to <a href="https://blog.davep.org/textual-fspicker/using/">have a page
that gave some general information on how to use the
library</a> and then also
<a href="https://blog.davep.org/textual-fspicker/library-contents/base_dialog/">generate low-level documentation for the all the useful content of the
library from the
docstrings</a>.
While latter isn't really useful to anyone wanting to use the library in
their own applications, it could be useful to anyone wanting to understand
how it hangs together at a lower-level, perhaps because they want to
contribute to or extend the library in some way.</p>
<p>While writing some of the general guide took a bit of work, of course, the
work to get the documentation up and running and generating was simple
enough. The effort comes down to 3 rules in the
<a href="https://github.com/davep/textual-fspicker/blob/ad6818c96816f2f1ad7a39909d276271af3f760d/Makefile" rel="noopener noreferrer" target="_blank"><code>Makefile</code></a>
for the project:</p>
<div class="highlight"><pre><span></span><code><span class="c">##############################################################################</span>
<span class="c"># Documentation.</span>
<span class="nf">.PHONY</span><span class="o">:</span><span class="w"> </span><span class="n">docs</span>
<span class="nf">docs</span><span class="o">:</span><span class="w">                    </span><span class="c"># Generate the system documentation</span>
<span class="w">    </span><span class="k">$(</span>mkdocs<span class="k">)</span><span class="w"> </span>build

<span class="nf">.PHONY</span><span class="o">:</span><span class="w"> </span><span class="n">rtfm</span>
<span class="nf">rtfm</span><span class="o">:</span><span class="w">                    </span><span class="c"># Locally read the library documentation</span>
<span class="w">    </span><span class="k">$(</span>mkdocs<span class="k">)</span><span class="w"> </span>serve

<span class="nf">.PHONY</span><span class="o">:</span><span class="w"> </span><span class="n">publishdocs</span>
<span class="nf">publishdocs</span><span class="o">:</span><span class="w"> </span><span class="n">docs</span>        <span class="c"># Set up the docs for publishing</span>
<span class="w">    </span><span class="k">$(</span>run<span class="k">)</span><span class="w"> </span>ghp-import<span class="w"> </span>--push<span class="w"> </span>site
</code></pre></div>

<p>The <code>rtfm</code> target is useful for locally-serving the documentation so I can
live preview as I write things and update the code. The <code>publishdocs</code> target
is used to create and push a <code>gh-pages</code> branch for the repository, resulting
in the documentation being hosted by GitHub.</p>
<h2 id="a-wee-problem">A wee problem</h2>
<blockquote>
<p><em>NOTE: <a href="/2025/02/28/mkdocs-gh-pages-redux.html">I've since found out there's an easier way of fixing the issue</a>.</em></p>
</blockquote>
<p>This is, however, where I ran into a wee problem. I noticed that the
locally-hosted version of the documentation looked great, but the version
hosted on GitHub Pages was... not so great. I was seeing a load of text
alignment issues, and also whole bits of text just not appearing at all.</p>
<p>Here's an example of what I was seeing locally:</p>
<p><img alt="Good layout" src="/attachments/2025/02/28/good.png" /></p>
<p>and here's what I was seeing being served up from GitHub Pages:</p>
<p><img alt="Bad layout" src="/attachments/2025/02/28/bad.png" /></p>
<p>As you can see, in the "bad" version the <code>func</code> label is missing from the
header, and the <code>Parameters</code> and <code>Returns</code> tables look quite messy.</p>
<p>I spent a little bit of time digging and, looking in Safari's console, I
then noticed that I was getting a 404 on a file called <code>_mkdocstrings.css</code>
in the <code>assets</code> folder. Problem found!</p>
<p>Only... was it though? If I looked in the <code>gh-pages</code> local branch the file
was there (and with fine permissions). If I looked in the remote branch, it
was there too. Thinking it could be some odd browser problem I even tried to
grab the file back from the command line and it came back 404 as well.</p>
<p><img alt="Testing from the command line" src="/attachments/2025/02/28/http-grab.png" /></p>
<p>At this point it was getting kind of late so I decided I must have screwed
up somehow but I should leave it for the evening and head to bed. Before
doing so though <a href="https://github.com/mkdocstrings/mkdocstrings/discussions/742" rel="noopener noreferrer" target="_blank">I decided to drop a question into the mkdocstrings
discussions to see if anyone could see where I'd messed
up</a>.</p>
<p>As it turns out, it looked like I hadn't messed up and the reply from the
<a href="https://github.com/pawamoy" rel="noopener noreferrer" target="_blank">always super-helpful Timoth√©e</a> was, in effect,
<em>"yeah, that should work fine"</em>. At least I wasn't the only one confused.</p>
<p>Fast forward to this morning and, with breakfast and coffee inside me, I
decided to try and methodically get to the bottom of it. I <a href="https://github.com/mkdocstrings/mkdocstrings/discussions/742#discussioncomment-12348912" rel="noopener noreferrer" target="_blank">wrote up the
current state of
understanding</a>
and looked at what might be the common cause. The thing that stood out to me
was that this was a file that started with an underscore, so I did a quick
search for <em>"github pages underscore"</em> and right away landed on <a href="https://www.ianwootten.co.uk/2022/11/08/how-to-use-underscores-with-github-pages/" rel="noopener noreferrer" target="_blank">this
result</a>.</p>
<p>Bingo!</p>
<p>That had to be it!</p>
<p>A little bit of testing later and sure enough, the documentation hosted on
GitHub Pages looked exactly like the locally-hosted version.</p>
<p>So, TIL: by default sites hosted by GitHub Pages will pretend that any asset
that starts with an underscore doesn't exist, unless you have a <code>.nojekyll</code>
in the root of the repository, on the <code>gh-pages</code> branch (or whatever branch
you decide to serve from).</p>
<p>To make this all work I added <code>.nojekyll</code> to
<a href="https://github.com/davep/textual-fspicker/tree/ad6818c96816f2f1ad7a39909d276271af3f760d/docs/source" rel="noopener noreferrer" target="_blank"><code>docs/source</code></a>
and added this to <code>mkdocs.yml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">exclude_docs</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">  </span><span class="no">!.nojekyll</span>
</code></pre></div>

<p>All done!</p>
<p>And now I've worked out a simple workflow for using <code>mkdocs</code>/<code>mkdocstrings</code>
for my own Python projects, in conjunction with GitHub Pages, I guess I'll
start to sprinkle it over other projects too.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/python.html" class="tag">Python</a>
            
            <a href="/tag/textual.html" class="tag">textual</a>
            
            <a href="/tag/documentation.html" class="tag">documentation</a>
            
            <a href="/tag/github.html" class="tag">GitHub</a>
            
            <a href="/tag/mkdocs.html" class="tag">mkdocs</a>
            
            <a href="/tag/mkdocstrings.html" class="tag">mkdocstrings</a>
            
            <a href="/tag/gh-pages.html" class="tag">gh-pages</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2023/10/01/all-green-on-github.html">All green on GitHub</a></h2>
        
        <time datetime="2023-10-01T09:14:00+01:00">October 01, 2023 09:14:00 UTC+01:00</time>
        
        <div class="reading-time">2 min read</div>
        
        <div class="category">
            <a href="/category/coding.html" class="category-link">Coding</a>
        </div>
        
        <div class="post-content">
            <p>In about a week's time I'll have had a GitHub account for 15 years! I can't
even remember what motivated me to create one now, but back in October 2008
I grabbed the <code>davep</code> account...</p>
<p><img alt="Making my account" src="/attachments/2023/10/01/account-made.png#centre" /></p>
<p>...and then made my <a href="https://github.com/davep/dict.rb" rel="noopener noreferrer" target="_blank">first repo</a>.</p>
<p><img alt="First repo made" src="/attachments/2023/10/01/first-repo.png#centre" /></p>
<p>My use of the site after that was <em>very</em> sporadic. It looks like I'd add or
update something once or twice a year, but I wasn't a heavy user.</p>
<p><img alt="First few years" src="/attachments/2023/10/01/first-few-years.png#centre" /></p>
<p>Then around the middle of 2015 I seem to have started using it a lot more.</p>
<p><img alt="The next few years" src="/attachments/2023/10/01/next-few-years.png#centre" /></p>
<p>This very much shows that during those years I was working on personal stuff
that I was making available in case anyone found it useful, but also leaning
heavily on GitHub as a (<em>a</em>, not <em>the</em>) place to keep backups of code I
cared about (or even no longer cared about). Quite a lot of that green will
likely be me having a few periods of <a href="/category/emacs.html">revamping my Emacs
configuration</a>.</p>
<p>The really fun part though starts about a year ago:</p>
<p><img alt="Working on FOSS full time" src="/attachments/2023/10/01/full-time.png#centre" /></p>
<p>It's pretty obvious when I started working at Textualize, and working on a
FOSS project full time. This is, without a doubt, the most green my
contribution graph has looked. It looks like there's a couple of days this
year where I haven't visited my desk at all, and I think this is a good
thing (I try really hard to have a life outside of coding when it comes to
weekends), but I'm also delighted to see just how busy this year looks.</p>
<p>I really hope this carries on for a while to come.</p>
<p>Apparently, as of the time of writing, I've made 12,588 contributions that
are on GitHub. What's <em>really</em> fun is the fact that my first contribution
pre-dates my GitHub account by 9 years!</p>
<p><img alt="My very first contribution" src="/attachments/2023/10/01/very-first-contrib.png#centre" /></p>
<p>This one's pretty easy to explain: this is back from when I was involved
with
<a href="https://en.wikipedia.org/wiki/Harbour_(programming_language)" rel="noopener noreferrer" target="_blank">Harbour</a>.
Back then we were using SourceForge to manage the project (as was the
fashion at the time), and at some point in the past whoever is maintaining
the project has pulled the full history into GitHub.</p>
<p>My <a href="/attachments/2023/10/01/contributions.png">contribution history on
GitHub</a> is actually older than my
adult son. I suspect it's older than at least one person I work with. :-/ <sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>I'm informed that this isn't the case<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>; apparently I'm either bad at
estimating people's ages, or bad at remembering them; or both.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Although it's not <em>too</em> far off. :-/&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>
        </div>
        
        <div class="tags">
            
            <a href="/tag/github.html" class="tag">GitHub</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2023/07/03/making-my-github-banner.html">A new GitHub profile README</a></h2>
        
        <time datetime="2023-07-03T08:15:00+01:00">July 03, 2023 08:15:00 UTC+01:00</time>
        
        <div class="reading-time">2 min read</div>
        
        <div class="category">
            <a href="/category/coding.html" class="category-link">Coding</a>
        </div>
        
        <div class="post-content">
            <p><img alt="My new GitHub banner" src="https://raw.githubusercontent.com/davep/davep/main/davep.svg" /></p>
<p>Ever since GitHub introduced the <a href="https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-github-profile/customizing-your-profile/managing-your-profile-readme" rel="noopener noreferrer" target="_blank">profile
README</a><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>
I've had a massively low-effort one in place. I made the repo, quickly wrote
the file, and then sort of forgot about it. Well, I didn't so much forget as
just keep looking at it and thinking "I should do something better with that
one day".</p>
<p>Thing is, while there are lots of fancy approaches out there, and lots of
neat generator tools and the like... they just weren't for me.</p>
<p>Then yesterday, over my second morning coffee, after <a href="/2023/07/02/catching-up.html">getting my blog
environment up and going again</a>, I had an
idea. It could be cool to use <a href="https://textual.textualize.io/api/app/#textual.app.App.save_screenshot" rel="noopener noreferrer" target="_blank">Textual's screenshot
facility</a>
to make something terminal-themed! I mean, while it's not <em>all</em> I am these
days, so much of what I'm doing right now is aimed at the terminal.</p>
<p>So... what to do? Then I thought it could be cool to knock up some sort of
login screen type thing; with a banner. One visit to an online large
terminal text generator site later, I had some banner text. All that was
left was to write <a href="https://github.com/davep/davep/blob/main/make_banner.py" rel="noopener noreferrer" target="_blank">a simple Textual application to create the
"screen"</a>.</p>
<p>The main layout is simple enough:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">compose</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ComposeResult</span><span class="p">:</span>
    <span class="k">yield</span> <span class="n">Label</span><span class="p">(</span><span class="n">NAME</span><span class="p">,</span> <span class="n">classes</span><span class="o">=</span><span class="s2">&quot;banner&quot;</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Label</span><span class="p">(</span><span class="n">PRATTLE</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">Label</span><span class="p">(</span><span class="s2">&quot;github.com/davep login: [reverse] [/]&quot;</span><span class="p">)</span>
</code></pre></div>

<p>where <code>NAME</code> contains the banner and <code>PRATTLE</code> contains the "login message".
With some <a href="https://textual.textualize.io/guide/CSS/" rel="noopener noreferrer" target="_blank">Textual CSS</a> sprinkled
over it to give the exact layout and colour I wanted, all that was left was
to make the snapshot. This was easy enough too.</p>
<p>While the whole thing isn't fully documented just yet, Textual does have <a href="https://textual.textualize.io/api/app/#textual.app.App.run_test" rel="noopener noreferrer" target="_blank">a
great tool for automatically running an application and interacting with
it</a>; that
meant I could easily write a function to load up my app and save the
screenshot:</p>
<div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">make_banner</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">GitHubBannerApp</span><span class="p">()</span><span class="o">.</span><span class="n">run_test</span><span class="p">()</span> <span class="k">as</span> <span class="n">pilot</span><span class="p">:</span>
        <span class="n">pilot</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">save_screenshot</span><span class="p">(</span><span class="s2">&quot;davep.svg&quot;</span><span class="p">)</span>
</code></pre></div>

<p>Of course, that needs running async, but that's simple enough:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">make_banner</span><span class="p">())</span>
</code></pre></div>

<p>Throw in a <code>Makefile</code> so I don't forget what I'm supposed to run:</p>
<div class="highlight"><pre><span></span><code>.PHONY: all
all:
    pipenv run python make_banner.py
</code></pre></div>

<p>and that's it! Job done!</p>
<p>From here onward I guess I could have some real fun with this. It would be
simple enough I guess to modify the code so that it changes what's displayed
over time; perhaps show a "last login" value that relates to recently
activity or something; any number of things; and then run it in a cron job
and update the repository.</p>
<p>For now though... I'll stick with keeping things nice and simple.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>It was actually kind of annoying when they introduced it because the
repo it uses is named after your user name. I already had a <code>davep</code>
repo: it was a private repo where I was slowly working on a (now
abandoned, I'll start it again some day I'm sure) ground-up rewrite of
my <code>davep.org</code> website.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
        </div>
        
        <div class="tags">
            
            <a href="/tag/github.html" class="tag">GitHub</a>
            
            <a href="/tag/python.html" class="tag">Python</a>
            
            <a href="/tag/textual.html" class="tag">Textual</a>
            
        </div>
        
    </article>
    
    
    
    
</div>

            </main>

            <footer>
                <p>Generated with <a href="https://github.com/davep/blogmore" target="_blank" rel="noopener noreferrer">Blogmore</a></p>
            </footer>
        </div>
    </div>
</body>
</html>