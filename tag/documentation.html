<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="blogmore v0.11.0">
    <title>Tag: documentation - davep</title>
    
    <link rel="icon" href="/icons/favicon.ico">
    
    
    <!-- Shortcut icon for backward compatibility -->
    <link rel="shortcut icon" href="/favicon.ico">
    <!-- Favicon alternatives -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/apple-touch-icon-167.png">
    <!-- Android/Chrome -->
    <link rel="manifest" href="/icons/site.webmanifest">
    <!-- Windows/Edge -->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    
    <link rel="stylesheet" href="/static/fontawesome.css">
    
    <link rel="stylesheet" href="/static/style.css">
    
    
    <link rel="alternate" type="application/rss+xml" title="davep - RSS Feed" href="https://blog.davep.org/feed.xml">
    <link rel="alternate" type="application/atom+xml" title="davep - Atom Feed" href="https://blog.davep.org/feeds/all.atom.xml">
    
    
    
    <meta name="author" content="Dave Pearson">
    
    
    
<meta property="og:title" content="Tag: documentation - davep">

<meta name="description" content="Dave Pearson&#39;s personal blog">
<meta property="og:description" content="Dave Pearson&#39;s personal blog">
<meta name="twitter:description" content="Dave Pearson&#39;s personal blog">


<meta name="keywords" content="Emacs, Python, Programming, Terminal, Textual">


    <script src="/static/theme.js"></script>
    
</head>
<body>
    <div class="site-container">
        <aside class="sidebar">
            <div class="sidebar-content">
                <div class="sidebar-header">
                    
                    <div class="sidebar-logo">
                        <a href="/">
                            <img src="/logo.jpeg" alt="davep">
                        </a>
                    </div>
                    

                    <div class="sidebar-title">
                        <h1><a href="/">davep</a></h1>
                        
                        <p class="sidebar-subtitle">Code and stuff</p>
                        
                    </div>
                </div>

                
                <div class="sidebar-pages">
                    <ul class="sidebar-links">
                        
                        <li><a href="/about.html">About</a></li>
                        
                        <li><a href="/dotfiles.html">Dot Files</a></li>
                        
                    </ul>
                </div>
                

                
                <section class="sidebar-section">
                    <h2>Links</h2>
                    <ul class="sidebar-links">
                        
                        <li><a href="https://davep.at/" target="_blank" rel="noopener noreferrer">davep@</a></li>
                        
                        <li><a href="https://raindrop.io/davep/public-46742255/sort=-created&amp;perpage=30&amp;page=0" target="_blank" rel="noopener noreferrer">Bookmarks</a></li>
                        
                        <li><a href="https://seenbydavep.blogspot.com/" target="_blank" rel="noopener noreferrer">Photoblog</a></li>
                        
                        <li><a href="https://elisp.dev/" target="_blank" rel="noopener noreferrer">Emacs Packages</a></li>
                        
                        <li><a href="https://pypi.org/user/davepearson/" target="_blank" rel="noopener noreferrer">Python Packages</a></li>
                        
                    </ul>
                </section>
                

                
                <section class="sidebar-section">
                    <h2>Social</h2>
                    <div class="sidebar-socials">
                        
                        <a href="https://www.flickr.com/photos/davepearson/" title="flickr" aria-label="flickr" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-flickr"></i>
                        </a>
                        
                        <a href="https://github.com/davep" title="github" aria-label="github" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-github"></i>
                        </a>
                        
                        <a href="https://www.last.fm/user/davepdotorg" title="lastfm" aria-label="lastfm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-lastfm"></i>
                        </a>
                        
                        <a href="https://fosstodon.org/@davep" title="mastodon" aria-label="mastodon" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-mastodon"></i>
                        </a>
                        
                        <a href="https://www.npmjs.com/~davep.org" title="npm" aria-label="npm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-npm"></i>
                        </a>
                        
                        <a href="https://steamcommunity.com/id/davepdotorg" title="steam" aria-label="steam" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-steam"></i>
                        </a>
                        
                        <a href="https://www.youtube.com/user/daveporg" title="youtube" aria-label="youtube" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-youtube"></i>
                        </a>
                        
                    </div>
                </section>
                
            </div>
        </aside>

        <div class="main-wrapper">
            <header>
                <nav>
                    <ul>
                        <li><a href="/categories.html">Categories</a></li>
                        <li><a href="/tags.html">Tags</a></li>
                        <li><a href="/archive.html">Archive</a></li>
                        
                        <li><a href="/search.html">Search</a></li>
                        
                        
                        <li><a href="/feed.xml" title="Subscribe via RSS feed">RSS</a></li>
                        <li><a href="/feeds/all.atom.xml" title="Subscribe via Atom feed">Atom</a></li>
                        
                        <li>
                            <button class="theme-toggle" type="button" aria-label="Toggle theme">
                                <span class="icon light-icon">‚òÄÔ∏è</span>
                                <span class="icon dark-icon">üåô</span>
                                <span class="theme-label">Theme</span>
                            </button>
                        </li>
                    </ul>
                </nav>
            </header>

            <main>
                
<div class="tag-page">
    <h1>Posts tagged with "documentation"</h1>
    
    
    
    <article class="post-summary">
        <h2><a href="/2025/02/28/mkdocs-gh-pages-redux.html">MkDocs/mkdocstrings 404 CSS TIL update</a></h2>
        
        <time datetime="2025-02-28T22:23:00+00:00"><a href="/2025/">2025</a>-<a href="/2025/02/">02</a>-<a href="/2025/02/28/">28</a> 22:23:00 UTC</time>
        
        <div class="reading-time">1 min read</div>
        
        <div class="category">
            <a href="/category/coding.html" class="category-link">Coding</a>
        </div>
        
        <div class="post-content">
            <p>Following on from <a href="/2025/02/28/documenting-fspicker.html">my post this
morning</a>, regarding the problem I was
having with <code>_mkdocstrings.css</code> being 404 any time I deployed by
documentation, build with <code>mkdocs</code>/<code>mkdocstrings</code>, to GitHub Pages...</p>
<p>It's come to light that I was doing this on hard mode, pretty much.</p>
<p>While trying to figure out the best way of deploying the docs, I'd stumbled
on <code>ghp-import</code> and had been using that. On the other hand, MkDocs has it's
own command for doing the same thing: <a href="https://www.mkdocs.org/user-guide/deploying-your-docs/" rel="noopener noreferrer" target="_blank"><code>mkdocs
gh-deploy</code></a>.</p>
<p>Timoth√©e <a href="https://github.com/mkdocstrings/mkdocstrings/discussions/742#discussioncomment-12351028" rel="noopener noreferrer" target="_blank">pointed out to
me</a>
that he never runs into this problem, but he used this command. As it turns
out, if you use <code>mkdocs gh-deploy</code> it creates the <code>.nojekyll</code> file by
default.</p>
<p>And how does it do this? It uses the <code>ghp-import</code> code <a href="https://github.com/mkdocs/mkdocs/blob/4c7404485f988f409ccaf42fefe705222ff5965a/mkdocs/commands/gh_deploy.py#L138" rel="noopener noreferrer" target="_blank">and uses a switch it
has to achieve exactly
this</a>.
In fact... the command line version even has a switch for it!</p>
<div class="highlight"><pre><span></span><code>-n, --no-jekyll      Include a .nojekyll file in the branch.
</code></pre></div>

<p>This is off by default, when you run the command itself, but I wish I'd
noticed this when I was first experimenting. O_o</p>
<p>Anyway, thanks to Timoth√©e's pointers, I've now managed to <a href="https://github.com/davep/textual-fspicker/pull/39/files" rel="noopener noreferrer" target="_blank">simplify how I
build and publish the docs from
<code>textual-fspicker</code></a>,
and I'll apply this to other projects too.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/documentation.html" class="tag">documentation</a>
            
            <a href="/tag/github.html" class="tag">GitHub</a>
            
            <a href="/tag/mkdocs.html" class="tag">mkdocs</a>
            
            <a href="/tag/mkdocstrings.html" class="tag">mkdocstrings</a>
            
            <a href="/tag/gh-pages.html" class="tag">gh-pages</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2025/02/28/documenting-fspicker.html">Documenting textual-fspicker (plus a TIL)</a></h2>
        
        <time datetime="2025-02-28T11:45:00+00:00"><a href="/2025/">2025</a>-<a href="/2025/02/">02</a>-<a href="/2025/02/28/">28</a> 11:45:00 UTC</time>
        
        <div class="reading-time">4 min read</div>
        
        <div class="category">
            <a href="/category/coding.html" class="category-link">Coding</a>
        </div>
        
        <div class="post-content">
            <p>I've just made a wee update to
<a href="https://github.com/davep/textual-fspicker" rel="noopener noreferrer" target="_blank"><code>textual-fspicker</code></a>, my dialog
library for <a href="https://textual.textualize.io" rel="noopener noreferrer" target="_blank">Textual</a> which adds <code>FileOpen</code>,
<code>FileSave</code> and <code>SelectDirectory</code> dialogs. There's no substantial change to
the workings of the library itself, but I have added something it's been
lacking for a long time: documentation!</p>
<p>Well... that's not quite true, it's always had documentation. I'm an avid
writer of Python docstrings and I make a point of always writing them for
every class, function, method or global value as I write the code. As such
the low-level "API" documentation has always been sat there ready to be
published somehow, eventually.</p>
<p>Meanwhile the description for how to use the library was mostly a pointer to
some example code inside the README. Not ideal, and something I really
wanted to improve at some point.</p>
<p>Given I'm still on a bit of a coding spree in my spare time, I finally
decided to get round to using the amazing
<a href="https://mkdocstrings.github.io" rel="noopener noreferrer" target="_blank">mkdocstrings</a>, in conjunction with
<a href="https://www.mkdocs.org" rel="noopener noreferrer" target="_blank">mkdocs</a>, to <a href="https://blog.davep.org/textual-fspicker/">get some better documentation up an
running</a>.</p>
<p>The approach I decided to take with the documentation was to <a href="https://blog.davep.org/textual-fspicker/using/">have a page
that gave some general information on how to use the
library</a> and then also
<a href="https://blog.davep.org/textual-fspicker/library-contents/base_dialog/">generate low-level documentation for the all the useful content of the
library from the
docstrings</a>.
While latter isn't really useful to anyone wanting to use the library in
their own applications, it could be useful to anyone wanting to understand
how it hangs together at a lower-level, perhaps because they want to
contribute to or extend the library in some way.</p>
<p>While writing some of the general guide took a bit of work, of course, the
work to get the documentation up and running and generating was simple
enough. The effort comes down to 3 rules in the
<a href="https://github.com/davep/textual-fspicker/blob/ad6818c96816f2f1ad7a39909d276271af3f760d/Makefile" rel="noopener noreferrer" target="_blank"><code>Makefile</code></a>
for the project:</p>
<div class="highlight"><pre><span></span><code><span class="c">##############################################################################</span>
<span class="c"># Documentation.</span>
<span class="nf">.PHONY</span><span class="o">:</span><span class="w"> </span><span class="n">docs</span>
<span class="nf">docs</span><span class="o">:</span><span class="w">                    </span><span class="c"># Generate the system documentation</span>
<span class="w">    </span><span class="k">$(</span>mkdocs<span class="k">)</span><span class="w"> </span>build

<span class="nf">.PHONY</span><span class="o">:</span><span class="w"> </span><span class="n">rtfm</span>
<span class="nf">rtfm</span><span class="o">:</span><span class="w">                    </span><span class="c"># Locally read the library documentation</span>
<span class="w">    </span><span class="k">$(</span>mkdocs<span class="k">)</span><span class="w"> </span>serve

<span class="nf">.PHONY</span><span class="o">:</span><span class="w"> </span><span class="n">publishdocs</span>
<span class="nf">publishdocs</span><span class="o">:</span><span class="w"> </span><span class="n">docs</span>        <span class="c"># Set up the docs for publishing</span>
<span class="w">    </span><span class="k">$(</span>run<span class="k">)</span><span class="w"> </span>ghp-import<span class="w"> </span>--push<span class="w"> </span>site
</code></pre></div>

<p>The <code>rtfm</code> target is useful for locally-serving the documentation so I can
live preview as I write things and update the code. The <code>publishdocs</code> target
is used to create and push a <code>gh-pages</code> branch for the repository, resulting
in the documentation being hosted by GitHub.</p>
<h2 id="a-wee-problem">A wee problem</h2>
<blockquote>
<p><em>NOTE: <a href="/2025/02/28/mkdocs-gh-pages-redux.html">I've since found out there's an easier way of fixing the issue</a>.</em></p>
</blockquote>
<p>This is, however, where I ran into a wee problem. I noticed that the
locally-hosted version of the documentation looked great, but the version
hosted on GitHub Pages was... not so great. I was seeing a load of text
alignment issues, and also whole bits of text just not appearing at all.</p>
<p>Here's an example of what I was seeing locally:</p>
<p><img alt="Good layout" src="/attachments/2025/02/28/good.png" /></p>
<p>and here's what I was seeing being served up from GitHub Pages:</p>
<p><img alt="Bad layout" src="/attachments/2025/02/28/bad.png" /></p>
<p>As you can see, in the "bad" version the <code>func</code> label is missing from the
header, and the <code>Parameters</code> and <code>Returns</code> tables look quite messy.</p>
<p>I spent a little bit of time digging and, looking in Safari's console, I
then noticed that I was getting a 404 on a file called <code>_mkdocstrings.css</code>
in the <code>assets</code> folder. Problem found!</p>
<p>Only... was it though? If I looked in the <code>gh-pages</code> local branch the file
was there (and with fine permissions). If I looked in the remote branch, it
was there too. Thinking it could be some odd browser problem I even tried to
grab the file back from the command line and it came back 404 as well.</p>
<p><img alt="Testing from the command line" src="/attachments/2025/02/28/http-grab.png" /></p>
<p>At this point it was getting kind of late so I decided I must have screwed
up somehow but I should leave it for the evening and head to bed. Before
doing so though <a href="https://github.com/mkdocstrings/mkdocstrings/discussions/742" rel="noopener noreferrer" target="_blank">I decided to drop a question into the mkdocstrings
discussions to see if anyone could see where I'd messed
up</a>.</p>
<p>As it turns out, it looked like I hadn't messed up and the reply from the
<a href="https://github.com/pawamoy" rel="noopener noreferrer" target="_blank">always super-helpful Timoth√©e</a> was, in effect,
<em>"yeah, that should work fine"</em>. At least I wasn't the only one confused.</p>
<p>Fast forward to this morning and, with breakfast and coffee inside me, I
decided to try and methodically get to the bottom of it. I <a href="https://github.com/mkdocstrings/mkdocstrings/discussions/742#discussioncomment-12348912" rel="noopener noreferrer" target="_blank">wrote up the
current state of
understanding</a>
and looked at what might be the common cause. The thing that stood out to me
was that this was a file that started with an underscore, so I did a quick
search for <em>"github pages underscore"</em> and right away landed on <a href="https://www.ianwootten.co.uk/2022/11/08/how-to-use-underscores-with-github-pages/" rel="noopener noreferrer" target="_blank">this
result</a>.</p>
<p>Bingo!</p>
<p>That had to be it!</p>
<p>A little bit of testing later and sure enough, the documentation hosted on
GitHub Pages looked exactly like the locally-hosted version.</p>
<p>So, TIL: by default sites hosted by GitHub Pages will pretend that any asset
that starts with an underscore doesn't exist, unless you have a <code>.nojekyll</code>
in the root of the repository, on the <code>gh-pages</code> branch (or whatever branch
you decide to serve from).</p>
<p>To make this all work I added <code>.nojekyll</code> to
<a href="https://github.com/davep/textual-fspicker/tree/ad6818c96816f2f1ad7a39909d276271af3f760d/docs/source" rel="noopener noreferrer" target="_blank"><code>docs/source</code></a>
and added this to <code>mkdocs.yml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">exclude_docs</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">  </span><span class="no">!.nojekyll</span>
</code></pre></div>

<p>All done!</p>
<p>And now I've worked out a simple workflow for using <code>mkdocs</code>/<code>mkdocstrings</code>
for my own Python projects, in conjunction with GitHub Pages, I guess I'll
start to sprinkle it over other projects too.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/python.html" class="tag">Python</a>
            
            <a href="/tag/textual.html" class="tag">textual</a>
            
            <a href="/tag/documentation.html" class="tag">documentation</a>
            
            <a href="/tag/github.html" class="tag">GitHub</a>
            
            <a href="/tag/mkdocs.html" class="tag">mkdocs</a>
            
            <a href="/tag/mkdocstrings.html" class="tag">mkdocstrings</a>
            
            <a href="/tag/gh-pages.html" class="tag">gh-pages</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2019/12/08/git2gantt.html">git2gantt -- Simple tool to visualise coding runs</a></h2>
        
        <time datetime="2019-12-08T13:44:00+00:00"><a href="/2019/">2019</a>-<a href="/2019/12/">12</a>-<a href="/2019/12/08/">08</a> 13:44:00 UTC</time>
        
        <div class="reading-time">3 min read</div>
        
        <div class="category">
            <a href="/category/python.html" class="category-link">Python</a>
        </div>
        
        <div class="post-content">
            <p>At the start of this year, as part of a much bigger process to review the
work that had taken place over the previous 12 months, I was asked (at work)
to provide some information about how much time I'd spent on various
projects. Now, for me, there's really only one project, but there's lots of
different tools and libraries that I've written to support the main work I
do. All of these are split into different repositories in the
company-internal instance of <a href="https://about.gitlab.com/" rel="noopener noreferrer" target="_blank">GitLab</a>. This meant
that getting a rough idea of what I was working on and when would be easy
enough -- it's all there in the commit history.</p>
<p>Given that this information would make up a couple of slides at most during
a far bigger presentation, I wanted something that would be snappy and easy
for non-developers to follow and understand. I spent a bit of time pondering
some options and decided that (ab)using a <a href="https://en.wikipedia.org/wiki/Gantt_chart" rel="noopener noreferrer" target="_blank">gantt
chart</a> layout would make sense.</p>
<p>That choice was made all the more easier given that <a href="https://docs.gitlab.com/ee/user/markdown.html#mermaid" rel="noopener noreferrer" target="_blank">GitLab
supports</a> the use of
<a href="https://mermaid-js.github.io/mermaid/#/" rel="noopener noreferrer" target="_blank">mermaid charts</a> within its
Markdown. This meant I could quickly write some code that took the git log
of each repository, turned it into mermaid code, and then render it (by
hand, this was all about getting things done quickly) via GitLab.</p>
<p>This sounded like it could be a fun personal project. The result was some
Python code called <a href="https://github.com/davep/git2gantt" rel="noopener noreferrer" target="_blank">git2gantt</a>.</p>
<p>As mentioned above, the output isn't anything too clever, it's just code
that can be used to create a plot via mermaid. For example, running
git2gannt over itself:</p>
<div class="highlight"><pre><span></span><code>gantt
  title git2gantt output
  dateFormat YYYY-MM-DD

  section git2gantt
  Development: devgit2gantt20190208, 2019-02-08, 2019-02-13
  Development: devgit2gantt20190214, 2019-02-14, 2019-02-15
  Development: devgit2gantt20190303, 2019-03-03, 2019-03-04
  Development: devgit2gantt20191203, 2019-12-03, 2019-12-04
</code></pre></div>

<p>Usage is pretty straightforward: <img alt="Screenshot 2019-12-08 at
13.18.12.png" src="/attachments/2019/12/08/Screenshot 2019-12-08 at 13.18.12.png" />
As you can see, it can be run over multiple repos at once, and there's also
an option to have it consider every branch within each repository. Another
handy option is the ability to limit the output to just one author --
perhaps you just want to document what you've done on a repo, not the
contributions of other people.</p>
<p>Also especially handy, if you don't want to bore people with too much
detail, is the "fuzz" option. This lets you tell <code>git2gannt</code> how relaxed you
want it to be when it tries to decide how long a run of work on a repo
lasted. So, perhaps, you're working on and off on a library that supports
some other system you're documenting, but you might only be making changes
every other day or so. With the correct fuzz value you can make it clear you
were working <em>on</em> the library for a couple of weeks, despite there only
being a commit every other day.</p>
<p>An example of running the output over a handful of projects would look
something like this:</p>
<p><img alt="Screenshot 2019-12-08 at 13.34.41.png" src="/attachments/2019/12/08/Screenshot 2019-12-08 at 13.34.41.png#centre" /></p>
<p>This is one of those tools I knocked up quickly to get a job done, and
haven't quite got round to finishing off fully. One thing I'd really like to
do is add mermaid support directly within it, so that it actually has the
option to emit plots, not just mermaid code (or, perhaps, drop the mermaid
approach and use something else entirely).</p>
<p>Meanwhile though, if you're looking for something quick and dirty that will
help you visualise what you've been working on and when for a good period of
time... perhaps this will help.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/python.html" class="tag">Python</a>
            
            <a href="/tag/documentation.html" class="tag">documentation</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2019/10/26/pydscheck.html">pydscheck -- A quick hack that keeps slowly growing</a></h2>
        
        <time datetime="2019-10-26T13:19:00+01:00"><a href="/2019/">2019</a>-<a href="/2019/10/">10</a>-<a href="/2019/10/26/">26</a> 13:19:00 UTC+01:00</time>
        
        <div class="reading-time">4 min read</div>
        
        <div class="category">
            <a href="/category/python.html" class="category-link">Python</a>
        </div>
        
        <div class="post-content">
            <p>Something I always try to do when I'm coding is be consistent. I feel this
is important. While people's coding standards may differ, I think different
approaches are easier to handle if someone has been consistent with their
style across all of their code.</p>
<p>This also stands for documentation too.</p>
<p>In my current position, I do a <em>lot</em> of Python coding, and one of the things
I like about Python (there are things I don't like too, but that's not for
now) is that it has doc-strings (just like my <a href="https://en.wikipedia.org/wiki/Common_Lisp" rel="noopener noreferrer" target="_blank">favourite
language</a>). I use them
extensively, ensuring every function and method has some form of
documentation, and generally I use
<a href="http://www.sphinx-doc.org/en/master/" rel="noopener noreferrer" target="_blank">Sphinx</a> to generate documentation
from those doc-strings.</p>
<p>Early on I was bothered by the fact that, just by the simple act of making
typos, I wasn't keeping the form of the doc-strings consistent. And in this
case it was a <em>really</em> simple thing that was bugging me. Normally, if I'm
writing a single-line doc-string, I'll write like this:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">one_liner</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Here is a one-line doc-string.&quot;&quot;&quot;</span>
</code></pre></div>

<p>So far, so good. But, if the doc-string is a multi-liner, I prefer the
ending quotes to be on a line of their own, like this:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">multi_liner</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Here is the first line.</span>
<span class="sd">    Here is another line.</span>
<span class="sd">    Here is the final line.</span>
<span class="sd">    &quot;&quot;&quot;</span><span class="s2">&quot;</span>
</code></pre></div>

<p>But, sometimes, by accident, I'd leave a doc-string like this:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">multi_liner</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Here is the first line.</span>
<span class="sd">    Here is another line.</span>
<span class="sd">    Here is the final line.&quot;&quot;&quot;</span><span class="s2">&quot;</span>
</code></pre></div>

<p>While it's really not a big deal, it would bug me and every time I found one
like this I'd "fix" it.</p>
<p>Eventually, it bugged me enough that I decided I was going to write a little
tool to find all such instances in my code and report them. My first
approach was to think "I could just do this with some regexp magic", <a href="http://regex.info/blog/2006-09-15/247" rel="noopener noreferrer" target="_blank">which
was really a bad idea</a>. Then I
though, I know, I should use this as an excuse to to play with <a href="https://docs.python.org/3/library/ast.html" rel="noopener noreferrer" target="_blank">Python's ast
library</a>.</p>
<p>That worked really well! I had <a href="https://github.com/davep/pydscheck/blob/dc5052002690b1f898ccd68f815cdedbe9172b74/pydscheck" rel="noopener noreferrer" target="_blank">the first version of the
code</a>
up and running in no time. It was simple but did the job. It ran through
Python code I threw at it and alerted me to both missing doc-strings, and
doc-strings with the ending I didn't like.</p>
<p>That served me for a while, until one day I realised that it wasn't quite
doing the job correctly; it was only really looking at top-level functions
and top-level methods in classes. Sometimes, not often, but sometimes, I'll
define functions within functions, and I feel they deserve documentation
too. So then I modified the code to ensure it walked every part of the AST.</p>
<p>Since then, when I've run into new things and had new ideas, <code>pydscheck</code> has
grown and grown. I've added checks that all mentioned parameters have a
type; I've added checks that any function/method that returns something
actually documents the return value; I've added checks that any
documentation of a returned value includes its type; I've added checks that
any function or method that yields a value documents that fact; I've added
checks that ensure that every parameter is documented in some way.</p>
<p>Each time I've done this it's helped uncover issues in my code's
documentation that could be cleaner, and it's also given me a pet project to
slowly better understand Python's AST.</p>
<p>It could be that there are better tools out there, I'd have thought that a
good doc-string linting tool would be something someone had already written.
But this time around I was happy to
<a href="https://en.wikipedia.org/wiki/Not_invented_here" rel="noopener noreferrer" target="_blank">NIH</a> it because I needed a
fun learning exercise that would also have some benefits for my day-to-day
work.</p>
<p>I'll caveat this with the fact that it's very particular to how I work and
how I like my documentation to look, but if it sounds useful, here it is:
<a href="https://github.com/davep/pydscheck" rel="noopener noreferrer" target="_blank">https://github.com/davep/pydscheck</a>.</p>
<p>There's still lots I could do with it. First off I should really properly
package it up so it can be installed as a command line tool via pip. Other
things that would be handy would be to allow some form of customisation of
how it works. I'm sure there's other fun things I can do with it too.</p>
<p>That's part of the fun of having a pet project: you can tinker when you like
and also get benefits from it as you use it.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/python.html" class="tag">Python</a>
            
            <a href="/tag/documentation.html" class="tag">documentation</a>
            
        </div>
        
    </article>
    
    
    
    
</div>

            </main>

            <footer>
                <p>Generated with <a href="https://github.com/davep/blogmore" target="_blank" rel="noopener noreferrer">Blogmore</a></p>
            </footer>
        </div>
    </div>
</body>
</html>