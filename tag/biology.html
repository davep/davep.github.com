<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="blogmore v0.4.0">
    <title>Tag: biology - davep</title>
    
    <link rel="icon" href="/icons/favicon.ico">
    
    
    <!-- Favicon alternatives -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/apple-touch-icon-167.png">
    <!-- Android/Chrome -->
    <link rel="manifest" href="/icons/site.webmanifest">
    <!-- Windows/Edge -->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/static/style.css">
    
    
    <link rel="alternate" type="application/rss+xml" title="davep - RSS Feed" href="https://blog.davep.org/feed.xml">
    <link rel="alternate" type="application/atom+xml" title="davep - Atom Feed" href="https://blog.davep.org/feeds/all.atom.xml">
    
    
    <script src="/static/theme.js"></script>
    
</head>
<body>
    <div class="site-container">
        <aside class="sidebar">
            <div class="sidebar-content">
                <div class="sidebar-header">
                    
                    <div class="sidebar-logo">
                        <a href="/">
                            <img src="/davep.jpeg" alt="davep">
                        </a>
                    </div>
                    

                    <div class="sidebar-title">
                        <h1><a href="/">davep</a></h1>
                        
                        <p class="sidebar-subtitle">Code, Emacs, VR, Stuff...</p>
                        
                    </div>
                </div>

                
                <div class="sidebar-pages">
                    <ul class="sidebar-links">
                        
                        <li><a href="/about.html">About</a></li>
                        
                        <li><a href="/dotfiles.html">Dot Files</a></li>
                        
                    </ul>
                </div>
                

                
                <section class="sidebar-section">
                    <h2>Links</h2>
                    <ul class="sidebar-links">
                        
                        <li><a href="http://davep.at/" target="_blank" rel="noopener noreferrer">davep@</a></li>
                        
                        <li><a href="https://raindrop.io/davep/public-46742255/sort=-created&amp;perpage=30&amp;page=0" target="_blank" rel="noopener noreferrer">Bookmarks</a></li>
                        
                        <li><a href="https://seenbydavep.blogspot.com/" target="_blank" rel="noopener noreferrer">Photoblog</a></li>
                        
                        <li><a href="https://elisp.dev/" target="_blank" rel="noopener noreferrer">Emacs Packages</a></li>
                        
                        <li><a href="https://pypi.org/user/davepearson/" target="_blank" rel="noopener noreferrer">Python Packages</a></li>
                        
                    </ul>
                </section>
                

                
                <section class="sidebar-section">
                    <h2>Social</h2>
                    <div class="sidebar-socials">
                        
                        <a href="https://github.com/davep" title="github" aria-label="github" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-github"></i>
                        </a>
                        
                        <a href="https://fosstodon.org/@davep" title="mastodon" aria-label="mastodon" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-mastodon"></i>
                        </a>
                        
                        <a href="https://www.flickr.com/photos/davepearson/" title="flickr" aria-label="flickr" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-flickr"></i>
                        </a>
                        
                        <a href="https://www.last.fm/user/davepdotorg" title="lastfm" aria-label="lastfm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-lastfm"></i>
                        </a>
                        
                        <a href="https://www.npmjs.com/~davep.org" title="npm" aria-label="npm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-npm"></i>
                        </a>
                        
                        <a href="https://www.youtube.com/user/daveporg" title="youtube" aria-label="youtube" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-youtube"></i>
                        </a>
                        
                        <a href="https://steamcommunity.com/id/davepdotorg" title="steam" aria-label="steam" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-steam"></i>
                        </a>
                        
                    </div>
                </section>
                
            </div>
        </aside>

        <div class="main-wrapper">
            <header>
                <nav>
                    <ul>
                        <li><a href="/categories.html">Categories</a></li>
                        <li><a href="/tags.html">Tags</a></li>
                        <li><a href="/archive.html">Archive</a></li>
                        
                        <li><a href="/feed.xml" title="Subscribe via RSS feed">RSS</a></li>
                        <li><a href="/feeds/all.atom.xml" title="Subscribe via Atom feed">Atom</a></li>
                        
                        <li>
                            <button class="theme-toggle" type="button" aria-label="Toggle theme">
                                <span class="icon light-icon">‚òÄÔ∏è</span>
                                <span class="icon dark-icon">üåô</span>
                                <span class="theme-label">Theme</span>
                            </button>
                        </li>
                    </ul>
                </nav>
            </header>

            <main>
                
<div class="tag-page">
    <h1>Posts tagged with "biology"</h1>
    
    
    
    <article class="post-summary">
        <h2><a href="/2023/10/31/evolve-words.html">Evolve Words</a></h2>
        
        <time datetime="2023-10-31T21:39:00+01:00">October 31, 2023 21:39:00 UTC+01:00</time>
        
        <div class="reading-time">2 min read</div>
        
        <div class="category">
            <a href="/category/coding.html" class="category-link">Coding</a>
        </div>
        
        <div class="post-content">
            <p>This follows on from my <a href="/2023/10/26/visual-selection.html">previous post</a>.
If you've not read that, it's worth having a dive in first for the
background.</p>
<p>The Ruby code I mention, that was written back in 2008, was actually a pair
of scripts. The first one, called <code>selection</code>, did what <code>visual-selection</code>
does, only <code>visual-selection</code> does it with a nice TUI interface: it takes a
random collection of letters and symbols and evolves them into a target
phrase.</p>
<p>As covered before: I don't remember all of the details of the conversation
that was going on at the time, but I do seem to remember something along the
lines of <em>"yes, but you start out and end up with something the same
length"</em> and <em>"nothing more complex is made"</em> (let's gloss over the whole
"complex" thing for now... well okay let's just gloss over it, end of story;
this is just a fun coding exercise).</p>
<p>What I do remember is that the seed of an idea was planted. Fine: how about
I start off with one small word, and using a list of English words as the
"fitness landscape" that the mutations had to survive in, mutate a
population over and over and see what happens. Would I "randomly" create
known words, with fewer letters, with the same letters, with more letters?</p>
<p>So this version of the code randomly did three forms of mutation: it would
randomly flip a letter, or randomly delete a letter, or randomly insert a
random letter. It would do this over and over and eliminate words that
aren't in the original list (the simple form of selecting for survival
within the landscape).</p>
<p>Like I said last time: never going to convince anyone of anything, but fun
to write some code.</p>
<p>This version became <code>selection2</code>.</p>
<p>So, having turned <code>selection</code> into a TUI application with Textual, I <em>had</em>
to do the same with this code...</p>
<p><img alt="Evolve Words" src="/attachments/2023/10/31/evolve-words.png#centre" /></p>
<p>As before, because it's fun to do so, this leans heavily on the <a href="https://textual.textualize.io/guide/workers/" rel="noopener noreferrer" target="_blank">worker
API</a> and
<a href="https://textual.textualize.io/blog/2023/10/04/announcing-textual-plotext/" rel="noopener noreferrer" target="_blank"><code>textual-plotext</code></a>.</p>
<p>If you want to check out the app itself there's <a href="https://github.com/davep/evolve-words" rel="noopener noreferrer" target="_blank">a GitHub
repo</a> and it can also be
installed <a href="https://pypi.org/project/evolve-words/" rel="noopener noreferrer" target="_blank">from PyPi</a> using
<code>pipx</code>.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/python.html" class="tag">Python</a>
            
            <a href="/tag/evolution.html" class="tag">evolution</a>
            
            <a href="/tag/biology.html" class="tag">biology</a>
            
            <a href="/tag/terminal.html" class="tag">terminal</a>
            
            <a href="/tag/textual.html" class="tag">textual</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2023/10/26/visual-selection.html">Visual Selection</a></h2>
        
        <time datetime="2023-10-26T18:50:00+01:00">October 26, 2023 18:50:00 UTC+01:00</time>
        
        <div class="reading-time">4 min read</div>
        
        <div class="category">
            <a href="/category/coding.html" class="category-link">Coding</a>
        </div>
        
        <div class="post-content">
            <p>Over the last few weeks I've had a couple of sessions of working on a
library to wrap <a href="https://pypi.org/project/plotext/" rel="noopener noreferrer" target="_blank">Plotext</a> -- a popular
terminal-based plotting library for Python -- so that it can easily be used
in Textual apps;
<a href="https://textual.textualize.io/blog/2023/10/04/announcing-textual-plotext/" rel="noopener noreferrer" target="_blank"><code>textual-plotext</code></a>
is the result.</p>
<p>I feel it's come together pretty well</p>
<p>But... I've been itching to find a reason to use it in a project of my own.</p>
<p>Meanwhile...</p>
<p>Back in the mid-2000s, when <a href="https://en.wikipedia.org/wiki/PhpBB" rel="noopener noreferrer" target="_blank">phpBB</a>
systems were still the fashion, I used to hang out on a site that was
chiefly aimed at the atheist and secular humanist crowd. We'd get a good
number of drive-by
<a href="https://en.wikipedia.org/wiki/Young_Earth_creationism" rel="noopener noreferrer" target="_blank">YEC</a> types who'd
want to argue (sorry... debate) and often talk nonsense about biology and
the like.</p>
<p>Now, I'm no biologist, I'm no scientist, I'm just a hacker who likes to
write code for fun and profit; so any time there was a chance to write some
code to help illustrate an idea I'd jump at the chance. I forget the detail
now -- this was back in 2008; 15 years ago as of the time of writing -- but
one time I remember a conversation was taking place where someone was just
flat out claiming that "random mutation" can only cause "loss of
information" and could never lead to a "desired result", or some such thing.</p>
<p>If you've ever had, read or watched those debates, you'll know the sort of
thing I mean.</p>
<p>So that got me thinking back then, could I write something that could give a
simple illustration of how this doesn't quite make sense?</p>
<p>So I had a little hacking session and came up with some Ruby code<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> that
did what I felt was the job. You'd give it a phrase you wanted it to
generate (a stand-in for the current "fitness landscape", in effect), it
would then generate a totally random string of that length, and then would
set about mutating it, finding mutations that were "fitter" than others (a
stand in for selection), breed the best two so far (randomly copy one chunk
from another to create a child), then repeat over and over.</p>
<p>When I first wrote it I wasn't sure what to expect; would it ever finish
given a reasonably large target string?</p>
<p>It did.</p>
<p>It was fun to code.</p>
<p>It got posted to the BB and of course wasn't in any way persuasive to them
(honestly I never expected it would be). I seem to recall it being
hand-waved away with calls of there obviously being an intelligent designer
involved<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>.</p>
<p>Anyway, the "meanwhile..." in this: a few times this year I've thought it
could be fun to rework this in Python (it's really not that complex after
all; just a string-chopping loop really) and use Textual to put a fun UI on
it.</p>
<p>So, that's what I did, complete with <code>textual-plotext</code> plot:</p>
<p><img alt="Visual Selection in action" src="/attachments/2023/10/26/visual-selection.png" /></p>
<p>While, 15 years on, this isn't going to convince anyone of the underlying
point, I think it does serve a good educational purpose. It shows that you
can create a fun UI for the terminal, with Textual, with not a lot of code.
It also shows off how you can easily create dynamic plots. Plus -- and I
think this might be the really important one -- it shows you can write
"traditional" tight-loop code in a Textual application and <em>still</em> have a
responsive UI; all thanks to the <a href="https://textual.textualize.io/guide/workers/" rel="noopener noreferrer" target="_blank">worker
API</a>.</p>
<p>The heart of the code for this application is this:</p>
<div class="highlight"><pre><span></span><code><span class="n">environment</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="s2">&quot;This is the target string we want to create!&quot;</span><span class="p">)</span>
<span class="k">while</span> <span class="ow">not</span> <span class="n">environment</span><span class="o">.</span><span class="n">best_fit_found</span><span class="p">:</span>
    <span class="n">environment</span><span class="o">.</span><span class="n">shit_happens</span><span class="p">()</span>
</code></pre></div>

<p>Sure, there's some detail in the <code>Environment</code> class, but you get the idea:
while we've not hit the target, let <a href="https://www.youtube.com/watch?v=kiVVzxoPTtg" rel="noopener noreferrer" target="_blank">life find a
way</a>. A loop like that would
totally bog down an application with a UI without some other work taking
place. With Textual and workers the resulting method in the application,
complete with code to send updates to the UI, really doesn't look much
different:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@work</span><span class="p">(</span><span class="n">thread</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exclusive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">run_world</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">worker</span> <span class="o">=</span> <span class="n">get_current_worker</span><span class="p">()</span>
    <span class="n">environment</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
    <span class="n">iterations</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">post_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">WorldUpdate</span><span class="p">(</span><span class="n">environment</span><span class="p">,</span> <span class="n">iterations</span><span class="p">,</span> <span class="o">*</span><span class="n">environment</span><span class="o">.</span><span class="n">best</span><span class="p">))</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">worker</span><span class="o">.</span><span class="n">is_cancelled</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">environment</span><span class="o">.</span><span class="n">best_fit_found</span><span class="p">:</span>
        <span class="n">environment</span><span class="o">.</span><span class="n">shit_happens</span><span class="p">()</span>
        <span class="n">iterations</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">iterations</span> <span class="o">%</span> <span class="mi">1000</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">environment</span><span class="o">.</span><span class="n">best_fit_found</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">post_message</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">WorldUpdate</span><span class="p">(</span><span class="n">environment</span><span class="p">,</span> <span class="n">iterations</span><span class="p">,</span> <span class="o">*</span><span class="n">environment</span><span class="o">.</span><span class="n">best</span><span class="p">)</span>
            <span class="p">)</span>
    <span class="k">if</span> <span class="n">environment</span><span class="o">.</span><span class="n">best_fit_found</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">post_message</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Finished</span><span class="p">(</span><span class="n">iterations</span><span class="p">))</span>
</code></pre></div>

<p>I honestly think the worker API is one of the coolest things added to
Textual and I so often see people have real <em>"woah!"</em> moments when they get
to grips with it.</p>
<p>Anyway... I've covered science, religion, and how Ruby is better than
Python, so I'm sure I've annoyed almost everyone. Job done I guess. ;-)</p>
<p>If you want to check out the app itself there's <a href="https://github.com/davep/visual-selection" rel="noopener noreferrer" target="_blank">a GitHub
repo</a> and it can also be
installed <a href="https://pypi.org/project/visual-selection/" rel="noopener noreferrer" target="_blank">from PyPi</a> using
<code>pipx</code>.</p>
<p>Expect it to be my tinker project of choice for a wee while; there's a
couple of other things I'd like to add to it.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Possibly unpopular opinion with some folk who will read this, but I've
long been a fan of Ruby as a language and actually generally prefer it
to Python.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Me, the coder. While utterly missing the point of a simple
illustration, while apparently not understanding the concept of an
analogy, I guess at least they felt I was intelligent?&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>
        </div>
        
        <div class="tags">
            
            <a href="/tag/python.html" class="tag">Python</a>
            
            <a href="/tag/evolution.html" class="tag">evolution</a>
            
            <a href="/tag/biology.html" class="tag">biology</a>
            
            <a href="/tag/terminal.html" class="tag">terminal</a>
            
            <a href="/tag/textual.html" class="tag">textual</a>
            
        </div>
        
    </article>
    
    
    
    
</div>

            </main>

            <footer>
                <p>Generated with <a href="https://github.com/davep/blogmore" target="_blank" rel="noopener noreferrer">Blogmore</a></p>
            </footer>
        </div>
    </div>
</body>
</html>