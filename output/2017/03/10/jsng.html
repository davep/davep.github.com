<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>"jsNG"</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Dave Pearson">

    <!-- Le styles -->
    <link rel="stylesheet" href="/theme/css/bootstrap.dark.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
    </style>
    <link href="/theme/css/bootstrap-responsive.dark.css" rel="stylesheet">
        <link href="/theme/css/font-awesome.css" rel="stylesheet">

    <link href="/theme/css/pygments.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/theme/images/apple-touch-icon-114x114.png">

    <link href="/" type="application/atom+xml" rel="alternate" title="blog.davep.org ATOM Feed" />

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/index.html">blog.davep.org </a>
          <div class="nav-collapse">
            <ul class="nav">
                          <li class="divider-vertical"></li>
                  <li class="active">
                    <a href="/category/misc.html">
						<i class="icon-folder-open icon-large"></i>misc
					</a>
                  </li>

                          <ul class="nav pull-right">
                                <li><a href="/archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>

            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="span9" id="content">
<section id="content">
        <article>
                <header>
                        <h1>
                                <a href=""
                                        rel="bookmark"
                                        title="Permalink to "jsNG"">
                                        "jsNG"
                                </a>
                        </h1>
                </header>
                <div class="entry-content">
                <div class="well">
<footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2017-03-10T10:14:47+00:00">
        <i class="icon-calendar"></i>Fri 10 March 2017
</abbr>
<span class="label">By</span>
<a href="/author/dave-pearson.html"><i class="icon-user"></i>Dave Pearson</a>
<span class="label">Category</span>
<a href="/category/misc.html"><i class="icon-folder-open"></i>misc</a>.


<span class="label">Tags</span>
	<a href="/tag/norton-guide.html"><i class="icon-tag"></i>[ Norton Guide</a>
	<a href="/tag/development.html"><i class="icon-tag"></i>Development</a>
	<a href="/tag/javascript.html"><i class="icon-tag"></i>JavaScript ]</a>
</footer><!-- /.post-info -->                </div>
                <p>Like many programmers, I have a couple of "Hello, World" projects that I've
carried with me over the years. One is 5x5 (which has been used to get to
grips with things as diverse as the Palm Pilot and GNU emacs). Another
is <a href="https://en.wikipedia.org/wiki/Norton_Guides">Norton Guides database</a>
<a href="http://www.davep.org/norton-guides/">readers</a>.</p>
<p>I've made Norton Guides tools that have allowed web servers to serve guides
(<code>w3ng</code>), that have allowed you to convert guides to HTML (<code>ng2html</code>), that
have let you read guides on OS/2 and GNU/Linux (<code>eg</code>) and also have let you
read guides in Microsoft Windows (<code>weg</code>). It's a problem I know fairly well
and one where I know the solution well enough so I can concentrate on
learning the new language or environment.</p>
<p>Recently I wanted to get to grips with some
"pure" <a href="http://es6-features.org/#Constants">ES6</a> coding while also getting
to know <a href="https://nodejs.org/en/">node.js</a>. A new version of the Norton Guide
code, written for this environment, seemed like a good thing to do.</p>
<p>And so <a href="https://github.com/davep/jsNG">jsNG</a> was born.</p>
<p>At its core is <a href="https://github.com/davep/jsNG/tree/master/lib">a library of code for opening and reading data from Norton
Guides databases</a>. While I
doubt it's good ES6 code, or even good node.js code, it's been very useful
in giving me a fun problem to solve and it'll carry on being something I'll
tweak and tinker with by way of trying new things out.</p>
<p>On top of this I've built a handful of tools for working with Norton Guides
databases. The most useful one at the moment (the others are more in the
"test the library" than the "make something handy with the library"
category) is <code>ngserve</code>. This is designed as a simple Norton Guides database
HTTP server.</p>
<p><img alt="ngserve in action" src="/attachments/2017/03/10/Screen Shot 2017-03-10 at 10.10.18.png"></p>
<p>When run, you give it a list of guides to serve:</p>
<p><img alt="Starting ngserve" src="/attachments/2017/03/10/Screen Shot 2017-03-10 at 10.26.44.png"></p>
<p>and it does the right thing. It has a small number of command line options
that help configure what it does:</p>
<p><img alt="ngserve command line options" src="/attachments/2017/03/10/Screen Shot 2017-03-10 at 10.29.28.png"></p>
<p>Possibly the most useful are the ones that let you change how it handles
"higher" DOS characters and, if you don't like the default colours and
stuff, the option that lets you point to your own style sheet (note for now
you'll need to host the stylesheet somewhere else -- ngserve won't serve it
for you; I'm aiming to change that in some way in the near future).</p>
<p>jsNG does have a fairly basic design compromise at its heart. In the very
early version I started out using the async functions for opening and
reading the guides. This got very tedious very quickly and I could see that
it was going to make for a very messy library with a very messy interface.
While it might not be in the spirit of node.js programming I decided to go
with the sync version of the file IO functions and code up the core library
based around this.</p>
<p>This approach also means that I took another leap that I never have done
with Norton Guides before: rather than doing the traditional thing of
keeping an open handle into them and reading direct from the file as you
navigate the guide, I simply read it all into a buffer in one go and keep it
in memory. This is a "guides are small, memory is cheap, things will go
faster" approach.</p>
<p>It does mean that when you load up a load of guides into <code>ngserve</code> they're
all sat in memory. The upside of this is that things should be a lot faster
and the code is a lot easier to follow (I think). To put this in some
perspective: I have a directory here that contains 110 Norton Guides files.
They total 36M in size. If that seems like a lot of stuff to hold in
memory... remind me how much is being used by your web browser so you can
look at some hilarious kittens. ;)</p>
<p>Anyway, that's where I'm at with it right now. The code is mostly settled
and mostly tidy. I need to write up some documentation for it (and so I need
to take a look at good JavaScript documentation tools) and perhaps tinker
with <code>ngserve</code> a little more. I'd also like to do a new version of <code>ng2html</code>
with this -- a version that makes it <em>far</em> easier to control the style of
the output. I'm also tempted to do a CLI-based reader in pure ES6; something
similar to <code>EG</code> or <code>WEG</code>.</p>
<p>All in good time.</p>
                </div><!-- /.entry-content -->
                <div class="comments">
                <h2>Comments !</h2>
                        <div id="disqus_thread"></div>
                        <script type="text/javascript">
                           var disqus_identifier = "2017/03/10/jsng.html";
                           (function() {
                                var dsq = document.createElement('script');
                                dsq.type = 'text/javascript'; dsq.async = true;
                                dsq.src = 'https://blogdaveporg.disqus.com/embed.js';
                                (document.getElementsByTagName('head')[0] ||
                                 document.getElementsByTagName('body')[0]).appendChild(dsq);
                          })();
                        </script>
                </div>
        </article>
</section>
        </div><!--/span-->

                <div class="span3 well sidebar-nav" id="sidebar">
<ul class="nav nav-list">
<li class="nav-header"><h4><i class="icon-external-link"></i>blogroll</h4></li>
    <li><a href="https://github.com/davep"><i class="icon-external-link"></i>GitHub</a></li>
<li class="nav-header"><h4><i class="icon-home icon-large"></i> social</h4></li>
<li><a href="/" rel="alternate"><i class="icon-bookmark icon-large"></i>atom feed</a></li>
    <li><a href="https://fosstodon.org/@davep"><i class="icon-Mastodon-sign icon-large"></i>Mastodon</a></li>

<li class="nav-header"><h4><i class="icon-folder-close icon-large"></i>Categories</h4></li>
<li>
<a href="/category/misc.html">
    <i class="icon-folder-open icon-large"></i>misc
</a>
</li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>


</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer>
        <address id="about">
                Proudly powered by <a href="http://pelican.notmyidea.org/">Pelican <i class="icon-external-link"></i></a>,
                                which takes great advantage of <a href="http://python.org">Python <i class="icon-external-link"></i></a>.
        </address><!-- /#about -->

        <p>The theme is based on <a href="http://twitter.github.com/bootstrap/">Bootstrap from Twitter <i class="icon-external-link"></i></a>,
                   and <a href="http://fortawesome.github.com/Font-Awesome/">Font-Awesome <i class="icon-external-link"></i></a>, thanks!</p>
      </footer>

    </div><!--/.fluid-container-->


<script type="text/javascript">
    var disqus_shortname = 'blogdaveporg';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/theme/js/jquery-1.7.2.min.js"></script>
    <script src="/theme/js/bootstrap.min.js"></script>
  </body>
</html>