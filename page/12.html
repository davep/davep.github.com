<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="blogmore v0.7.0">
    <title>davep</title>
    
    <link rel="icon" href="/icons/favicon.ico">
    
    
    <!-- Favicon alternatives -->
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/icons/apple-touch-icon-120.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/apple-touch-icon-152.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/icons/apple-touch-icon-167.png">
    <!-- Android/Chrome -->
    <link rel="manifest" href="/icons/site.webmanifest">
    <!-- Windows/Edge -->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/static/style.css">
    
    
    <link rel="alternate" type="application/rss+xml" title="davep - RSS Feed" href="https://blog.davep.org/feed.xml">
    <link rel="alternate" type="application/atom+xml" title="davep - Atom Feed" href="https://blog.davep.org/feeds/all.atom.xml">
    
    
    <script src="/static/theme.js"></script>
    
</head>
<body>
    <div class="site-container">
        <aside class="sidebar">
            <div class="sidebar-content">
                <div class="sidebar-header">
                    
                    <div class="sidebar-logo">
                        <a href="/">
                            <img src="/davep.jpeg" alt="davep">
                        </a>
                    </div>
                    

                    <div class="sidebar-title">
                        <h1><a href="/">davep</a></h1>
                        
                        <p class="sidebar-subtitle">Code and stuff</p>
                        
                    </div>
                </div>

                
                <div class="sidebar-pages">
                    <ul class="sidebar-links">
                        
                        <li><a href="/about.html">About</a></li>
                        
                        <li><a href="/dotfiles.html">Dot Files</a></li>
                        
                    </ul>
                </div>
                

                
                <section class="sidebar-section">
                    <h2>Links</h2>
                    <ul class="sidebar-links">
                        
                        <li><a href="http://davep.at/" target="_blank" rel="noopener noreferrer">davep@</a></li>
                        
                        <li><a href="https://raindrop.io/davep/public-46742255/sort=-created&amp;perpage=30&amp;page=0" target="_blank" rel="noopener noreferrer">Bookmarks</a></li>
                        
                        <li><a href="https://seenbydavep.blogspot.com/" target="_blank" rel="noopener noreferrer">Photoblog</a></li>
                        
                        <li><a href="https://elisp.dev/" target="_blank" rel="noopener noreferrer">Emacs Packages</a></li>
                        
                        <li><a href="https://pypi.org/user/davepearson/" target="_blank" rel="noopener noreferrer">Python Packages</a></li>
                        
                    </ul>
                </section>
                

                
                <section class="sidebar-section">
                    <h2>Social</h2>
                    <div class="sidebar-socials">
                        
                        <a href="https://www.flickr.com/photos/davepearson/" title="flickr" aria-label="flickr" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-flickr"></i>
                        </a>
                        
                        <a href="https://github.com/davep" title="github" aria-label="github" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-github"></i>
                        </a>
                        
                        <a href="https://www.last.fm/user/davepdotorg" title="lastfm" aria-label="lastfm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-lastfm"></i>
                        </a>
                        
                        <a href="https://fosstodon.org/@davep" title="mastodon" aria-label="mastodon" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-mastodon"></i>
                        </a>
                        
                        <a href="https://www.npmjs.com/~davep.org" title="npm" aria-label="npm" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-npm"></i>
                        </a>
                        
                        <a href="https://steamcommunity.com/id/davepdotorg" title="steam" aria-label="steam" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-steam"></i>
                        </a>
                        
                        <a href="https://www.youtube.com/user/daveporg" title="youtube" aria-label="youtube" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-youtube"></i>
                        </a>
                        
                    </div>
                </section>
                
            </div>
        </aside>

        <div class="main-wrapper">
            <header>
                <nav>
                    <ul>
                        <li><a href="/categories.html">Categories</a></li>
                        <li><a href="/tags.html">Tags</a></li>
                        <li><a href="/archive.html">Archive</a></li>
                        
                        <li><a href="/feed.xml" title="Subscribe via RSS feed">RSS</a></li>
                        <li><a href="/feeds/all.atom.xml" title="Subscribe via Atom feed">Atom</a></li>
                        
                        <li>
                            <button class="theme-toggle" type="button" aria-label="Toggle theme">
                                <span class="icon light-icon">‚òÄÔ∏è</span>
                                <span class="icon dark-icon">üåô</span>
                                <span class="theme-label">Theme</span>
                            </button>
                        </li>
                    </ul>
                </nav>
            </header>

            <main>
                
<div class="posts-list">
    <h1>Recent Posts</h1>
    
    
    
    <article class="post-summary">
        <h2><a href="/2020/06/23/swift-til-2.html">Swift TIL 2</a></h2>
        
        <time datetime="2020-06-23T14:21:00+01:00">June 23, 2020 14:21:00 UTC+01:00</time>
        
        <div class="reading-time">1 min read</div>
        
        <div class="category">
            <a href="/category/til.html" class="category-link">TIL</a>
        </div>
        
        <div class="post-content">
            <p><a href="/2020/06/22/swift-til-1.html">Following on</a> with writing little notes to
myself so I remember some key things as I learn about Swift...</p>
<p>I sort of feel like this will make reading code a little harder, so it's one
I want to keep in mind. When calling an instance method, if it's not
ambiguous, you can omit <code>self.</code> from the call. For example:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">Foo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">func</span><span class="w"> </span><span class="nf">inner</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nb">String</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;Foo&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kd">func</span><span class="w"> </span><span class="nf">outer</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nb">String</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">inner</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kc">self</span><span class="p">.</span><span class="n">inner</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="bp">print</span><span class="p">(</span><span class="w"> </span><span class="n">Foo</span><span class="p">().</span><span class="n">outer</span><span class="p">()</span><span class="w"> </span><span class="p">)</span>
</code></pre></div>

<p>This makes me feel a little uneasy, and I strongly suspect I'll always use
<code>self.</code> when writing such code: I'm a big fan of the idea that we write code
for people, not for compilers.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/swift.html" class="tag">Swift</a>
            
            <a href="/tag/apple.html" class="tag">Apple</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2020/06/22/swift-til-1.html">Swift TIL 1</a></h2>
        
        <time datetime="2020-06-22T13:18:00+01:00">June 22, 2020 13:18:00 UTC+01:00</time>
        
        <div class="reading-time">1 min read</div>
        
        <div class="category">
            <a href="/category/til.html" class="category-link">TIL</a>
        </div>
        
        <div class="post-content">
            <p>As <a href="/2020/06/21/a-second-attempt-to-learn-swift.html">I mentioned
yesterday</a>,
I'm going to make a small series of posts where I write down things that
I've stumbled on while getting to know Swift that are, for me personally,
worthy of note, different, unusual, cool, or just simply "WTF!?!".</p>
<p>Because learning new stuff is fun.</p>
<p>My first one is that you can use keywords as identifiers if you "escape"
them with backticks. Kind of like this:</p>
<div class="highlight"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="p">`</span><span class="kd">let</span><span class="p">`</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;let&quot;</span>

<span class="bp">print</span><span class="p">(</span><span class="w"> </span><span class="p">`</span><span class="kd">let</span><span class="p">`</span><span class="w"> </span><span class="p">)</span>
</code></pre></div>

<p>I'm struggling to imagine a situation where I'd ever want to do this. I'm
still unsure if my reaction is "that's cool" or "WTF?!?".</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/swift.html" class="tag">Swift</a>
            
            <a href="/tag/apple.html" class="tag">Apple</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2020/06/21/a-second-attempt-to-learn-swift.html">A second attempt to learn Swift</a></h2>
        
        <time datetime="2020-06-21T14:48:00+01:00">June 21, 2020 14:48:00 UTC+01:00</time>
        
        <div class="reading-time">5 min read</div>
        
        <div class="category">
            <a href="/category/coding.html" class="category-link">Coding</a>
        </div>
        
        <div class="post-content">
            <p>It's five years ago this month that I bought myself my first macOS (then OS
X) device. After many years of having a Windows machine as my daily driver,
which was also my work machine (I worked from home), I decided it was high
time that I returned to having a Unix-a-like system on my desk too. For a
decade or so, starting in the later-90s, I'd had a GNU/Linux desktop. I
still had a Windows desktop (until a couple of years ago most of my work was
on DOS and Windows), but thanks to the wonders of a KVM, and later an X
server that ran on Windows, my personal hacking was done on a GNU/Linux
desktop.</p>
<p>But as things moved around, priorities changed, as life moved on, the
GNU/Linux boxes got retired and never quite replaced. Eventually, in 2015, I
found myself with the means and desire to recover that sort of setup. Long
story short, after a lot of reading up and weighing up options I decided
that the best option for a desktop Unix was... an iMac!</p>
<p>I loved it. Sure, <a href="/2015/06/27/my-first-couple-of-weeks-with-an-imac.html">there were lots of little things on the surface that were
different or annoying or just plain not as cool as the Mac fans would tell
you</a>,
but under the hood I found what I needed: a Unix CLI with all the things I
knew well. And, of course, it ran GNU Emacs just fine; that was the really
important thing for me.</p>
<p>Pretty much right away I decided that it might be fun to learn the tools
necessary to develop native Mac apps, and perhaps even iOS apps. I
downloaded XCode, bought a book, and started working through it. Having got
that book, I decided it might be interesting to own an iOS device too. So,
sort of needing an MP3 player, and having no wish to get an iPhone, <a href="/2015/06/23/and-now-for-some-ios.html">I got
myself an iPod
Touch</a>. So I
was all set to devour the Swift book, write some stuff for OS X, create an
iOS app or two, and... life happened. Stuff cropped up that distracted me
from taking that further and I never really returned to working through the
book.</p>
<p>Fast forward to now and that initial iMac and iPod purchase spiralled a wee
bit. Next after the iPod was an iPad Mini, when my Nexus 7 was starting to
show its age and it was obvious that Google wasn't going to produce any more
good Android tablets. Then, when I needed a very portable Unix-a-like
machine for trips between where I was living and Edinburgh, <a href="/2016/04/28/i-now-own-a-macbook.html">I got myself a
MacBook Air</a>.
Since then the iPod Touch has been replaced once, as has the iPad Mini. I
now also own an iPad and a MacBook Pro. Unless Apple screw up and turn Macs
into something unusable for developers (there are rumours), I imagine I'll
be using Apple devices for some time to come now.</p>
<p>And then, last month, having finally got frustrated with where Google were
going with Android and the Pixel series, I jumped ship to the iPhone 11.</p>
<p>As of right now I'm in a situation where I'm all about the Apple ecosystem
regarding hardware and operating systems (including for my work machine),
all of which is there to support my heavy use of the Google ecosystem
(actually, the one bit of Google hardware I still lean on heavily is the
Google Home -- I have 3 around my home).</p>
<p>So... given all of that, I thought it was time to look at returning to
learning Swift, with a view to writing some native macOS and i(Pad)OS stuff.
I soon realised that the book I'd bought back in 2015 was rather out of
date. It covers Swift 1.2 -- <a href="https://en.wikipedia.org/wiki/Swift_(programming_language)#Version_history" rel="noopener noreferrer" target="_blank">we're now up to
5.2</a>!
Given this, and given I've forgotten pretty much everything I'd read at the
time, I decided I should start again from scratch.</p>
<p>This weekend I've started reading my way though <a href="https://www.oreilly.com/library/view/ios-13-programming/9781492074526/" rel="noopener noreferrer" target="_blank"><em>iOS Programming
Fundamentals with
Swift</em></a>.
While this obviously has an emphasis on iOS, I'm already finding that the
first part of the book is a really great introduction to the Swift language
in general. The pace seems just right, and the way topics are grouped makes
it easy enough for me to skip over what's obvious (I don't need to know what
objected-oriented programming is, and what the difference between a class
and an object is, etc) and read up on the detail of this particular language
when it comes to general concepts I know (knowing the differences between a
class, struct and enum in the language is important, for example).</p>
<p>I've yet to write a line of code, but I'm fine with that. The book is
spending a lot of time introducing the language before encouraging you to
fire up XCode, and I'm okay with that. I'm never a fan of being asked to
write out code that I can't properly follow -- that just makes stuff look
like magic when it's far more educational to know what's going on. What I am
finding is I'm making lots of notes that are either <em>"oh, yeah, this is
cool, I like this idea!"</em> or <em>"WTF are you kidding me?!?"</em>. Which is really
nice -- it's always great to learn a new language that's a bit different
from what you normally use.</p>
<p>My plan then, over the next few weeks, it to keep at this and hopefully
document my journey. I think I'd like to write a short series of TIL-type
posts; nothing too long, just some new thing I read or discovered and my
reaction to it. So, if you happen to follow this blog, I apologise in
advance for any Swift-spam.</p>
<p>You have been warned. ;-)</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/swift.html" class="tag">Swift</a>
            
            <a href="/tag/apple.html" class="tag">Apple</a>
            
            <a href="/tag/coding.html" class="tag">coding</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2020/06/14/my-journey-to-the-dark-side-is-complete.html">My journey to the dark side is complete</a></h2>
        
        <time datetime="2020-06-14T20:00:00+01:00">June 14, 2020 20:00:00 UTC+01:00</time>
        
        <div class="reading-time">4 min read</div>
        
        <div class="category">
            <a href="/category/emacs.html" class="category-link">Emacs</a>
        </div>
        
        <div class="post-content">
            <p>Ever since the whole business of "light mode" and "dark mode" really kicked
off in the mobile OS world, I've been a fan of the dark modes. On both
Android and iOS/iPadOS, when apps became available with dark modes, I'd
switch to it. When the operating systems themselves adopted the switch,
that's what I went for. As well as having a love for all things black
(anyone who knows me personally will know that), I think it just looks
better on mobile devices. I can't quite say why, but it just works best for
me.</p>
<p>So, when macOS got a supported dark mode, I instantly switched it on,
obviously. Then, within a day, I switched it back to light mode.
Surprisingly it just didn't work for me, and I wasn't sure why. Since then
I've tried living with it a few times and it's rarely lasted more than a few
hours. There was something, something I couldn't quite put my finger on,
that didn't sit right.</p>
<p>Last Monday I decided to give it another go. This time, however, I thought
I'd figured it out. The "problem" was Emacs! As mentioned <a href="/2020/01/11/where-i-live-and-work.html">back in
January</a>,
for as long as I've used it (so since the mid-1990s), my Emacs has always
had a light background -- probably because that's how it came "out of the
box" (I'm talking Emacs in graphical mode here; I started with it on <a href="https://en.wikipedia.org/wiki/OS/2#1994%E2%80%931996:_The_%22Warp%22_years" rel="noopener noreferrer" target="_blank">OS/2
Warp</a>
and then moved to a GNU/Linux X-based desktop). I figured that the contrast
between the colour scheme of Emacs, and the rest of the machine, was the
issue here.</p>
<p>I spend most of my working day either in Emacs, or in
<a href="https://www.iterm2.com/" rel="noopener noreferrer" target="_blank">iTerm2</a> -- often rapidly switching between the
two. I've always run iTerm2 in the usual dark background mode with light
text. So I figured the problem was having a dark OS desktop, dark terminal,
and then a light editing environment. Eventually that'd feel wrong.</p>
<p>So I decided that, for the first time in about 25 years, I should give Emacs
a go with a dark mode. Taking a quick look at <a href="https://pawelbx.github.io/emacs-theme-gallery/" rel="noopener noreferrer" target="_blank">popular dark
themes</a> I noticed
<a href="https://github.com/purcell/color-theme-sanityinc-tomorrow" rel="noopener noreferrer" target="_blank"><code>sanityinc-tomorrow-night</code></a>
looked easy on the eye, so I gave that a go (actually, I gave each of the
themes in that set a go, <a href="https://github.com/davep/.emacs.d/commit/07f1c4c4c8c0c476f1e5e34845a834956d2be0c4" rel="noopener noreferrer" target="_blank">initially starting with
<code>sanityinc-tomorrow-eighties</code></a>,
but I finally settled on <code>sanityinc-tomorrow-night</code>).</p>
<p>To start with it didn't look too good; not because of a problem with the
theme itself, but because, over time, I'd made changes and tweaks to my
setup that assumed I'd be using my usual light theme. After some dabbling
and tinkering and trying things out, I got it looking "just so".</p>
<p><img alt="Screenshot 2020-06-14 at 19.40.43.png" src="/attachments/2020/06/14/Screenshot 2020-06-14 at 19.40.43.png" /></p>
<p>Having got that working, I then thought it would be nice to be able to have
Emacs -- at least on restart -- adapt to me switching between dark and light
mode on macOS. It turns out that detecting if macOS is in dark mode is easy
enough, the command <code>defaults read -g AppleInterfaceStyle</code> will emit <code>Dark</code>
if in dark mode. So, knowing that, I updated <a href="https://github.com/davep/is-a.el/blob/2b3eb99a213454536d789325f01477e3ce7eec87/is-a.el#L67-L70" rel="noopener noreferrer" target="_blank">my personal package for
checking things about the environment that Emacs is in to use that
information</a>:</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="k">defconst</span><span class="w"> </span><span class="nv">is-a-macOS-dark-mode-window-p</span>
<span class="w">  </span><span class="p">(</span><span class="k">and</span>
<span class="w">   </span><span class="nv">is-a-macOS-window-p</span>
<span class="w">   </span><span class="p">(</span><span class="nf">string=</span><span class="w"> </span><span class="p">(</span><span class="nv">shell-command-to-string</span><span class="w"> </span><span class="s">&quot;defaults read -g AppleInterfaceStyle&quot;</span><span class="p">)</span><span class="w"> </span><span class="s">&quot;Dark\n&quot;</span><span class="p">))</span>
<span class="w">  </span><span class="s">&quot;Are we running in a macOS window in dark mode?&quot;</span><span class="p">)</span>
</code></pre></div>

<p>So, as of now, my Emacs setup is such that, <a href="https://github.com/davep/.emacs.d/blob/f8389ac8f93b66c614ef82705929b86f01efc130/init.d/init-style.el#L15-L24" rel="noopener noreferrer" target="_blank">if I'm in graphical mode on
macOS and I'm in dark mode, Emacs will use a dark theme, otherwise it'll do
what it did before -- with a light background in a graphical mode and a more
Borland-a-like blue background when in CHUI
mode</a>.</p>
<p>This seems to have made a difference. Almost one week on my work Macbook is
still in dark mode, and I've switched both of my personal Macbooks, and my
iMac, into dark mode too. I think it's sticking this time. Next up is to
give some serious consideration to darkening the web in general. Only now am
I noticing just how damn bright most of it is!</p>
<hr />
<p>As a slight aside to the above, I've also made one other change to Emacs:
I've finally dropped the display of scroll bars. In the themes I'm using
they didn't look so great, appearing to be distracting. For the past 25
years I've had the scrollbars there, but never actually <em>used</em> them; all
they've ever done is serve as a visual aid to where I am in a file. Thing
is, I'm not sure I ever really pay that much attention to that either. So,
as a test, I've also been running with them turned off and, so far, I'm
really not noticing them been gone.</p>
<p>The habits we form that we convince ourselves make sense...</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/emacs.html" class="tag">Emacs</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2020/06/07/some-more-dot-emacs-dot-d-evolution.html">Some more ~/.emacs.d evolution</a></h2>
        
        <time datetime="2020-06-07T16:48:00+01:00">June 07, 2020 16:48:00 UTC+01:00</time>
        
        <div class="reading-time">4 min read</div>
        
        <div class="category">
            <a href="/category/emacs.html" class="category-link">Emacs</a>
        </div>
        
        <div class="post-content">
            <p>When I started with this version of the blog on Hashnode<sup id="fnref:170-1"><a class="footnote-ref" href="#fn:170-1">1</a></sup>, my plan was to
try and write something at least once a week. I managed to do that as far as
January this year, give or take, but then things got a little busy, the
world got trickier, and... Well, <a href="https://en.wikipedia.org/wiki/COVID-19_pandemic" rel="noopener noreferrer" target="_blank">you don't need me to tell you about
that</a>. Anyway, I'm back to
write some more and, hopefully, try and keep up with writing. I feel it'll
do me good.</p>
<p>I have been busy since January. Work has, as far as possible, carried on as
normal. The only big difference being I'm back working from home. It's an
odd turn of events personally given that I'd worked from home for 21 years,
then (with some trepidation) <a href="/2017/12/12/on_to_something_new.html">went back to working in an
office</a>. Having got used to being in
an office and being around people, it took some adjusting to working alone
again.</p>
<p>So, on to the main point of this post... During that period I've spent a lot
more time at my machine than I would normally, and so it was inevitable that
I'd end up tinkering with <a href="https://github.com/davep/.emacs.d" rel="noopener noreferrer" target="_blank">my Emacs
configuration</a>. While it's true that
<a href="/2019/11/23/visual-evolution-of-emacs-config.html">there's hardly a week goes by where I don't tinker with some small
thing</a>, I try not to make
huge changes too often. Huge changes do happen though.</p>
<p>A handful of weeks back was another one of those times where I made a big
change.</p>
<p>After I <a href="/2016/05/26/starting_fresh_with_gnu_emacs.html">burnt my original <code>~/.emacs</code> file back in
2016</a> I've had an approach
where I've tried to make things as modular as possible, and as easy to clone
down to a new machine as possible. The design I came up with, <a href="/2017/07/13/more_revamping_of_my_emacs_config.html">especially
once I moved over to using
<code>use-package</code></a>, has
served me well. But there was always one thing that bothered me: the files
that handled the loading and configuration of packages were, in effect,
<a href="https://github.com/davep/.emacs.d/tree/728e74376bf5606d9ef2d297e36cc2d35e159d64/init.d/packages" rel="noopener noreferrer" target="_blank">still three large monolithic
files</a>.
While this was better than a single monolithic <code>~/.emacs</code>, it still didn't
feel quite right.</p>
<p>Giving it a bit of thought, I decided that what I really wanted was a single
directory in which I could drop lots of small <code>.el</code> files that would handle
the loading and configuration of all sorts of packages. While it didn't gain
anything concrete, the idea felt tidier. Tidy is good. Feeling like the code
smell is good, is good too.</p>
<p>First though I needed a way to load multiple files, ideally within a whole
directory hierarchy, without needing to know in advance what files would be
there. After a little bit of tinkering I settled on <a href="https://github.com/davep/.emacs.d/blob/c3d53152b1adc9ba5e43baddb986870b3244b113/init.d/init-packages.el#L42-L46" rel="noopener noreferrer" target="_blank">this bit of
code</a>
that revolves around the use of
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Contents-of-Directories.html" rel="noopener noreferrer" target="_blank"><code>directory-files-recursively</code></a>:</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nv">source</span><span class="w"> </span><span class="p">(</span><span class="nf">expand-file-name</span><span class="w"> </span><span class="s">&quot;init.d/packages.d/&quot;</span><span class="w"> </span><span class="nv">user-emacs-directory</span><span class="p">)))</span>
<span class="w">  </span><span class="p">(</span><span class="nb">when</span><span class="w"> </span><span class="p">(</span><span class="nf">file-exists-p</span><span class="w"> </span><span class="nv">source</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nb">cl-loop</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">use</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="p">(</span><span class="nv">directory-files-recursively</span><span class="w"> </span><span class="nv">source</span><span class="w"> </span><span class="p">(</span><span class="nb">rx</span><span class="w"> </span><span class="s">&quot;.el&quot;</span><span class="w"> </span><span class="nv">eol</span><span class="p">))</span>
<span class="w">             </span><span class="nb">do</span><span class="w"> </span><span class="p">(</span><span class="nf">load</span><span class="w"> </span><span class="p">(</span><span class="nv">file-name-sans-extension</span><span class="w"> </span><span class="nv">use</span><span class="p">)))))</span>
</code></pre></div>

<p>Simply put, this code finds every file in and below
<a href="https://github.com/davep/.emacs.d/tree/master/init.d/packages.d" rel="noopener noreferrer" target="_blank"><code>~/.emacs.d/init.d/packages.d/</code></a>
whose name ends in <code>.el</code> (note the use of a regular expression, using
<a href="/2019/12/01/being-phony-and-lispy-regular-expressions.html"><code>rx</code></a>
to create it), removes the extension from the name, and loads it with <code>load</code>
(dropping the extension means <code>load</code> can decide if it wants to load the
compiled version of the code, or the source, depending on what's available).</p>
<p>After writing that I could then start to populate
<code>~/.emacs.d/init.d/packages.d/</code> with lots of smaller files that handled the
loading of packages. In some cases there's a file just for one package, in
other cases there's a file that handles a logical grouping of packages
(where there are obvious direct dependencies, or where one package is
designed to extend the other, etc). For now I've decided to break things
down into three directories that map to the three monolithic files I had
before:</p>
<p><img alt="Screenshot 2020-06-07 at 16.36.28.png" src="/attachments/2020/06/07/Screenshot 2020-06-07 at 16.36.28.png" /></p>
<p>However, I'm not totally wedded to this design and I may change this as time
goes on.</p>
<p>While I've not spent any time properly testing it out, I've also not really
noticed any obvious impact on startup speed. However, this tends not to be a
real concern for me. I seldom <em>start</em> Emacs anyway. I always have it running
<a href="https://github.com/davep/e" rel="noopener noreferrer" target="_blank">and use <code>emacsclient</code> as my editor in most places so files open instantly
in the running version of Emacs</a>.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:170-1">
<p>Note from future me: we're now back over on <code>blog.davep.org</code> of
course.&#160;<a class="footnote-backref" href="#fnref:170-1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
        </div>
        
        <div class="tags">
            
            <a href="/tag/emacs.html" class="tag">Emacs</a>
            
            <a href="/tag/lisp.html" class="tag">Lisp</a>
            
            <a href="/tag/emacs-lisp.html" class="tag">Emacs Lisp</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2020/01/19/dnote-el.html">dnote.el - A wrapper for the dnote CLI</a></h2>
        
        <time datetime="2020-01-19T16:35:00+00:00">January 19, 2020 16:35:00 UTC</time>
        
        <div class="reading-time">3 min read</div>
        
        <div class="category">
            <a href="/category/emacs.html" class="category-link">Emacs</a>
        </div>
        
        <div class="post-content">
            <p>Late on last year I stumbled on an article about
<a href="https://www.getdnote.com/" rel="noopener noreferrer" target="_blank">dnote</a>. Annoyingly, I can't recall now where I
saw it, but I made a reminder to look at it over my Christmas break.</p>
<p>Dnote looked like a tool that would fill a hole I had in how I work. When it
comes to making notes about things, and keeping things for future reference,
I use a few tools, each one being just right (for me) for the job in
question. I use <a href="https://evernote.com/" rel="noopener noreferrer" target="_blank">Evernote</a> to track documents and
other household type things. I use <a href="https://www.google.com/keep/" rel="noopener noreferrer" target="_blank">Keep</a> to
make notes about stuff I need to remember short-term (say, the size of a
space in my bedroom that I want furniture to go in) and also to record notes
while in meetings at work. I use <a href="https://journey.cloud/" rel="noopener noreferrer" target="_blank">Journey</a> to keep a
journal about... anything, really. Finally, <a href="https://pinboard.in/u:davep" rel="noopener noreferrer" target="_blank">I use
Pinboard</a> to keep hold of URLs I might want to
go back to (I also use it to create a to-read list).</p>
<p>Amongst all of this, however, I felt I was missing something for keeping
track of things that don't really fall into any of the categories above.
Mostly this would be work-based or hacking-based things that are short and
sweet but I don't always use enough to easily remember. I wanted just the
right tool that would let me ferret away useful one-liners, remind myself of
obscure switches that get used once or twice a year, etc.</p>
<p>After reading up on dnote it seemed pretty clear that this was just such a
tool.</p>
<p>After getting back to the office at the start of this month I decided to
make use of it and see how it went. My idea was simple: I'd record any "TIL"
stuff that I might want to remember in the future, as well as recording
things I need now and again but can't always remember.</p>
<p>So far it's working quite well. I like that it has a simple CLI. I like that
it's got a backend that you can use to sync between different machines. I
like that it's got a web interface that's mobile-friendly. I like that <a href="https://github.com/dnote/dnote" rel="noopener noreferrer" target="_blank">it's
Free Software</a> and so you can host your own
server if you wish.</p>
<p>I found I liked it enough that, of course, I felt the need to start <a href="https://github.com/davep/dnote.el" rel="noopener noreferrer" target="_blank">a
simple Emacs wrapper for the CLI</a>.</p>
<p>At the moment dnote.el is designed to be a simple capture system. There are
commands for capturing a one-liner (entered in the Emacs mini-buffer), for
capturing the content of the current buffer, and for capturing
freshly-entered multi-line text, entered in a buffer that uses
<code>markdown-mode</code>. There's also a command for syncing notes if you have
configured dnote to talk to a backend.</p>
<p>What I don't have right now is the ability to navigate and view notes. So
far I've not really felt the need for that because the CLI approach works so
well. Longer-term though I can see my tweaking this and adding in commands
for searching, viewing, editing and deleting notes.</p>
<p>But, for now, if you've not had a look at dnote, I'd highly recommend having
a play and seeing if it makes sense for you. And, if it does, and you're an
Emacs user, perhaps dnote.el will be useful too?</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/emacs.html" class="tag">Emacs</a>
            
            <a href="/tag/lisp.html" class="tag">Lisp</a>
            
            <a href="/tag/emacs-lisp.html" class="tag">Emacs Lisp</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2020/01/11/where-i-live-and-work.html">Where I live and work</a></h2>
        
        <time datetime="2020-01-11T14:17:00+00:00">January 11, 2020 14:17:00 UTC</time>
        
        <div class="reading-time">2 min read</div>
        
        <div class="category">
            <a href="/category/coding.html" class="category-link">Coding</a>
        </div>
        
        <div class="post-content">
            <p>It's no surprise that I spend a lot of time in Emacs. Especially when I'm
developing software, either for work or for personal fun, most of my time is
time spent in Emacs. While I do obviously flit over to Chrome, and mostly do
my CLI stuff in <a href="https://iterm2.com/" rel="noopener noreferrer" target="_blank">iTerm2</a> (I really like
<a href="https://www.gnu.org/software/emacs/manual/html_mono/eshell.html" rel="noopener noreferrer" target="_blank">eshell</a>
but it just can't replace a good terminal for me), I spend a lot of time
looking at Emacs.</p>
<p>Here's what my Emacs looks like:</p>
<p><img alt="Screenshot 2020-01-11 at 13.49.04.png" src="/attachments/2020/01/11/Screenshot 2020-01-11 at 13.49.04.png#centre" /></p>
<p>Key elements for me are as follows:</p>
<h1 id="light-background">Light background</h1>
<p>Something I've never really got on with when it comes to code editing is
dark themes and dark backgrounds. I find it too much of an eye strain.
Oddly, I tend to prefer dark themes everywhere else, but not when it comes
to working in Emacs. The theme I use is <a href="https://github.com/davep/.emacs.d/blob/b9a3df42f0708eabc31a6176d69a67bbdf31a087/init.d/init-style.el#L12-L13" rel="noopener noreferrer" target="_blank">the built-in adwaita
theme</a>.</p>
<h1 id="less-boring-mode-line">Less boring mode line</h1>
<p>I make use of <a href="https://github.com/milkypostman/powerline" rel="noopener noreferrer" target="_blank">powerline</a> to
<a href="https://github.com/davep/.emacs.d/blob/b9a3df42f0708eabc31a6176d69a67bbdf31a087/init.d/packages/init-packages-melpa.el#L386-L399" rel="noopener noreferrer" target="_blank">make the mode line a bit less
boring-looking</a>.
While the colour scheme is such that it's kept in line with the light look,
the style is nice in that it sort of matches the style of prompt I use in my
shell.</p>
<p><img alt="Screenshot 2020-01-11 at 14.05.39.png" src="/attachments/2020/01/11/Screenshot 2020-01-11 at 14.05.39.png#centre" /></p>
<h1 id="full-screen">Full screen</h1>
<p>I always run Emacs as a full-screen application, then splitting it into
different tiled windows using its own internal window handling. This is
something I've done from way back when I got started with my first GNU/Linux
desktop machine, and still like to do on macOS.</p>
<p>I also <a href="https://github.com/davep/longmacs.el" rel="noopener noreferrer" target="_blank">run Emacs as a server</a> and
then use <a href="https://github.com/davep/e" rel="noopener noreferrer" target="_blank">a little wrapper around <code>emacsclient</code></a>
to open files (both locally and remotely) from the command line in that
Emacs session.</p>
<h1 id="comfortable-eshell-when-i-need-it">Comfortable eshell when I need it</h1>
<p>Although I say above that I generally don't use <code>eshell</code>, preferring to use
a full-featured terminal application, in combination with
<a href="https://fishshell.com/" rel="noopener noreferrer" target="_blank">fish</a>, I do sometimes dip into eshell for quick
things. So of course I have that configured to feel comfortable too.</p>
<p><img alt="Screenshot 2020-01-11 at 14.10.07.png" src="/attachments/2020/01/11/Screenshot 2020-01-11 at 14.10.07.png#centre" /></p>
<p>I do this easily <a href="https://github.com/davep/.emacs.d/blob/b9a3df42f0708eabc31a6176d69a67bbdf31a087/init.d/packages/init-packages-melpa.el#L181-L192" rel="noopener noreferrer" target="_blank">thanks to
<code>eshell-git-prompt</code></a>.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/emacs.html" class="tag">Emacs</a>
            
            <a href="/tag/shell.html" class="tag">shell</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2019/12/14/nuke-buffers-el.html">nuke-buffers.el -- Tidy up open buffers in Emacs</a></h2>
        
        <time datetime="2019-12-14T13:17:00+00:00">December 14, 2019 13:17:00 UTC</time>
        
        <div class="reading-time">2 min read</div>
        
        <div class="category">
            <a href="/category/emacs.html" class="category-link">Emacs</a>
        </div>
        
        <div class="post-content">
            <p>Both at work and at home I use Emacs by <a href="https://github.com/davep/longmacs.el" rel="noopener noreferrer" target="_blank">keeping a copy running all the
time</a>, and use <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Emacs-Server.html#Emacs-Server" rel="noopener noreferrer" target="_blank"><code>emacsclient</code> to open
files inside
it</a>
(including on remote machines thanks to a bit of
<a href="https://en.wikipedia.org/wiki/Secure_Shell" rel="noopener noreferrer" target="_blank"><code>ssh</code></a> and heavy use of
<a href="https://www.gnu.org/software/tramp/" rel="noopener noreferrer" target="_blank"><code>tramp</code></a> -- I might write this up at
some point). This works really well, but does mean I tend to build up a lot
of buffers over time.</p>
<p>Having lots of buffers open isn't generally an issue, and if I'm working on
lots of different files in a project during the course of a hacking session
it's actually a good thing. But, quite often, I want to tidy up the buffer
list, clearing it back to near-zero buffers open. Many years ago, when I had
a "proper" tower system running 24/7, with Emacs open all the time, I'd use
<a href="https://www.emacswiki.org/emacs/MidnightMode" rel="noopener noreferrer" target="_blank"><code>clean-buffer-list</code> as part of
<code>midnight</code></a>. Along the way
that fell out of favour with me, likely because I drifted into using
machines that had Emacs open all the time but where the machine wasn't awake
all the time.</p>
<p>Eventually I decided to have some fun rolling my own solution, and
<a href="https://github.com/davep/nuke-buffers.el" rel="noopener noreferrer" target="_blank"><code>nuke-buffers</code></a> was born.</p>
<p>Rather than try and do things in an automated way, this was designed to be
<a href="https://github.com/davep/.emacs.d/blob/ffc863ca0fb669d2f6639bda62e81764c35767ce/init.d/packages/init-packages-delpa.el#L98-L107" rel="noopener noreferrer" target="_blank">bound to a key (or
two)</a>
and then be run when I wanted, being as harsh as possible about cleaning up
the buffer list. Since first writing it it's worked well for me.</p>
<p>These days I tend to let the buffer list build up as I work on a new
feature, or chase down a bug, etc. Then, once I've made the final commit for
that period of focus, I'll hit the <code>nuke-buffer</code> key combo as the final act
of confirming that I've done the job. So not only does this help tidy my
Emacs session a bit, it also feels like a physical form of punctuation --
back in less sensible days, when I had some terrible habits, it would have
been when I'd reach for the celebratory cigarette; buffer-tidying feels far
more wholesome. ;)</p>
<p>The way the code works is, of course, mostly directed at how I work -- it's
highly likely it wouldn't make sense for many other people. The main aim is
to kill as many buffers as possible, but without disturbing anything else.
The list of buffers it gathers for nuking avoids buffers that are <a href="https://github.com/davep/nuke-buffers.el/blob/d018499b78968f074565c076068f657a1631aa07/nuke-buffers.el#L60-L62" rel="noopener noreferrer" target="_blank">visiting
files but have unsaved
content</a>,
avoids <a href="https://github.com/davep/nuke-buffers.el/blob/d018499b78968f074565c076068f657a1631aa07/nuke-buffers.el#L54" rel="noopener noreferrer" target="_blank">the
minibuffer</a>
(obviously), avoids <a href="https://github.com/davep/nuke-buffers.el/blob/d018499b78968f074565c076068f657a1631aa07/nuke-buffers.el#L56" rel="noopener noreferrer" target="_blank">any "special"
buffer</a>
(one that starts with a space then an asterisk), avoids <a href="https://github.com/davep/nuke-buffers.el/blob/d018499b78968f074565c076068f657a1631aa07/nuke-buffers.el#L73" rel="noopener noreferrer" target="_blank">the current
buffer</a>
and also avoids <a href="https://github.com/davep/nuke-buffers.el/blob/d018499b78968f074565c076068f657a1631aa07/nuke-buffers.el#L58" rel="noopener noreferrer" target="_blank">any buffer in a list of names to
avoid</a>.</p>
<p>I've being using this on a daily basis for around 2.5 years now and it's
done the job without ever losing me any work.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/emacs.html" class="tag">Emacs</a>
            
            <a href="/tag/lisp.html" class="tag">Lisp</a>
            
            <a href="/tag/emacs-lisp.html" class="tag">Emacs Lisp</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2019/12/08/git2gantt.html">git2gantt -- Simple tool to visualise coding runs</a></h2>
        
        <time datetime="2019-12-08T13:44:00+00:00">December 08, 2019 13:44:00 UTC</time>
        
        <div class="reading-time">3 min read</div>
        
        <div class="category">
            <a href="/category/python.html" class="category-link">Python</a>
        </div>
        
        <div class="post-content">
            <p>At the start of this year, as part of a much bigger process to review the
work that had taken place over the previous 12 months, I was asked (at work)
to provide some information about how much time I'd spent on various
projects. Now, for me, there's really only one project, but there's lots of
different tools and libraries that I've written to support the main work I
do. All of these are split into different repositories in the
company-internal instance of <a href="https://about.gitlab.com/" rel="noopener noreferrer" target="_blank">GitLab</a>. This meant
that getting a rough idea of what I was working on and when would be easy
enough -- it's all there in the commit history.</p>
<p>Given that this information would make up a couple of slides at most during
a far bigger presentation, I wanted something that would be snappy and easy
for non-developers to follow and understand. I spent a bit of time pondering
some options and decided that (ab)using a <a href="https://en.wikipedia.org/wiki/Gantt_chart" rel="noopener noreferrer" target="_blank">gantt
chart</a> layout would make sense.</p>
<p>That choice was made all the more easier given that <a href="https://docs.gitlab.com/ee/user/markdown.html#mermaid" rel="noopener noreferrer" target="_blank">GitLab
supports</a> the use of
<a href="https://mermaid-js.github.io/mermaid/#/" rel="noopener noreferrer" target="_blank">mermaid charts</a> within its
Markdown. This meant I could quickly write some code that took the git log
of each repository, turned it into mermaid code, and then render it (by
hand, this was all about getting things done quickly) via GitLab.</p>
<p>This sounded like it could be a fun personal project. The result was some
Python code called <a href="https://github.com/davep/git2gantt" rel="noopener noreferrer" target="_blank">git2gantt</a>.</p>
<p>As mentioned above, the output isn't anything too clever, it's just code
that can be used to create a plot via mermaid. For example, running
git2gannt over itself:</p>
<div class="highlight"><pre><span></span><code>gantt
  title git2gantt output
  dateFormat YYYY-MM-DD

  section git2gantt
  Development: devgit2gantt20190208, 2019-02-08, 2019-02-13
  Development: devgit2gantt20190214, 2019-02-14, 2019-02-15
  Development: devgit2gantt20190303, 2019-03-03, 2019-03-04
  Development: devgit2gantt20191203, 2019-12-03, 2019-12-04
</code></pre></div>

<p>Usage is pretty straightforward: <img alt="Screenshot 2019-12-08 at
13.18.12.png" src="/attachments/2019/12/08/Screenshot 2019-12-08 at 13.18.12.png" />
As you can see, it can be run over multiple repos at once, and there's also
an option to have it consider every branch within each repository. Another
handy option is the ability to limit the output to just one author --
perhaps you just want to document what you've done on a repo, not the
contributions of other people.</p>
<p>Also especially handy, if you don't want to bore people with too much
detail, is the "fuzz" option. This lets you tell <code>git2gannt</code> how relaxed you
want it to be when it tries to decide how long a run of work on a repo
lasted. So, perhaps, you're working on and off on a library that supports
some other system you're documenting, but you might only be making changes
every other day or so. With the correct fuzz value you can make it clear you
were working <em>on</em> the library for a couple of weeks, despite there only
being a commit every other day.</p>
<p>An example of running the output over a handful of projects would look
something like this:</p>
<p><img alt="Screenshot 2019-12-08 at 13.34.41.png" src="/attachments/2019/12/08/Screenshot 2019-12-08 at 13.34.41.png#centre" /></p>
<p>This is one of those tools I knocked up quickly to get a job done, and
haven't quite got round to finishing off fully. One thing I'd really like to
do is add mermaid support directly within it, so that it actually has the
option to emit plots, not just mermaid code (or, perhaps, drop the mermaid
approach and use something else entirely).</p>
<p>Meanwhile though, if you're looking for something quick and dirty that will
help you visualise what you've been working on and when for a good period of
time... perhaps this will help.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/python.html" class="tag">Python</a>
            
            <a href="/tag/documentation.html" class="tag">documentation</a>
            
        </div>
        
    </article>
    
    <article class="post-summary">
        <h2><a href="/2019/12/01/being-phony-and-lispy-regular-expressions.html">Being phony, and Lispy regular expressions</a></h2>
        
        <time datetime="2019-12-01T16:42:00+00:00">December 01, 2019 16:42:00 UTC</time>
        
        <div class="reading-time">2 min read</div>
        
        <div class="category">
            <a href="/category/emacs.html" class="category-link">Emacs</a>
        </div>
        
        <div class="post-content">
            <p>While it does seem that they're a little out of fashion these days, in some
circles anyway, I'm still an avid fan of <code>make</code> and make files. Even in
environments where I don't need a <code>Makefile</code> to actually build anything,
I'll use one (or more) to help create handy shortcuts for getting stuff
done.</p>
<p>Looking at the main <code>Makefile</code> for one of my major work projects, there's 45
targets that help fire off various jobs (all of them <a href="https://marmelab.com/blog/2016/02/29/auto-documented-makefile.html" rel="noopener noreferrer" target="_blank">self-documenting using
a variation on an approach I read a while
back</a>).</p>
<p>In most cases the targets aren't real targets. That's to say, they don't
build the thing they're called. They are <a href="https://www.gnu.org/software/make/manual/html_node/Phony-Targets.html" rel="noopener noreferrer" target="_blank">phony
targets</a>.
So, as makes sense, I make a point of marking them all as such. I follow the
convention that has the <code>.PHONY</code> marker appear on the line before the
target; this feels cleaner to me and easier to follow and maintain.</p>
<p>But.... I'm lazy. And I use Emacs. Typing out <code>.PHONY foo</code> all the time
feels like far too much work. So, some time ago, I quickly threw together
<a href="https://github.com/davep/make-phony.el" rel="noopener noreferrer" target="_blank"><code>make-phony.el</code></a>.</p>
<p>With this I could be <em>really</em> lazy. I could type out the <code>Makefile</code> target
and then, with my cursor on it, press a key combination and have the
<code>.PHONY</code> marker put in place.</p>
<p>Does it save much time? Yeah, probably not really. But it was a fun little
exercise and an excuse to write a little bit of Emacs Lisp.</p>
<p>There's one thing I made a point of doing in the heart of this too: using
<code>rx</code>. For anyone who doesn't know of it, think of it as a very Lispy way of
writing regular expressions. I won't even try and explain it all here
<a href="http://francismurillo.github.io/2017-03-30-Exploring-Emacs-rx-Macro/" rel="noopener noreferrer" target="_blank">because others have done an excellent job
already</a>.
What I will do is say this: if you're in the habit of writing some Emacs
Lisp, or even tinkering with your configuration, and you find yourself
writing a regular expression, consider looking at <code>rx</code> -- it's well worth
the time to get to know it.</p>
<p>Slowly, as time goes on, I'm weeding out "vanilla" regular expressions from
my config and code and moving over to using <code>rx</code>. I feel, quite rightly I
think, that <a href="https://github.com/davep/.emacs.d/blob/b3185a1dbaa0a16f540465844b84c5e1c6a77180/init.d/packages/init-packages-melpa.el#L117-L126" rel="noopener noreferrer" target="_blank">something like
this</a>:</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="nb">rx</span>
<span class="w"> </span><span class="p">(</span><span class="k">or</span>
<span class="w">  </span><span class="c1">;; Ignore hidden files.</span>
<span class="w">  </span><span class="p">(</span><span class="nv">group</span><span class="w"> </span><span class="nv">bol</span><span class="w"> </span><span class="s">&quot;.&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="c1">;; I never want to edit the desktop.</span>
<span class="w">  </span><span class="p">(</span><span class="nv">group</span><span class="w"> </span><span class="s">&quot;Desktop/&quot;</span><span class="w"> </span><span class="nv">eol</span><span class="p">)</span>
<span class="w">  </span><span class="c1">;; Ignore compiled files.</span>
<span class="w">  </span><span class="p">(</span><span class="nv">group</span><span class="w"> </span><span class="s">&quot;.&quot;</span><span class="w"> </span><span class="p">(</span><span class="k">or</span><span class="w"> </span><span class="s">&quot;pyc&quot;</span><span class="w"> </span><span class="s">&quot;elc&quot;</span><span class="p">)</span><span class="w"> </span><span class="nv">eol</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nv">group</span><span class="w"> </span><span class="s">&quot;.egg-info/&quot;</span><span class="w"> </span><span class="nv">eol</span><span class="p">)))</span>
</code></pre></div>

<p>is much easier to write, read and maintain, than this:</p>
<div class="highlight"><pre><span></span><code>&quot;\\(^\\.\\)\\|\\(Desktop/$\\)\\|\\(\\.\\(?:\\(?:\\(?:el\\|py\\)c\\)\\)$\\)\\|\\(\\.egg-info/$\\)&quot;
</code></pre></div>

<p>I mean, even <em>if</em> the regular expression above can be written in a more
efficient way (and I imagine it can), as someone working in a Lisp
environment, I'd much sooner write and work with the <code>rx</code> version.</p>
        </div>
        
        <div class="tags">
            
            <a href="/tag/emacs.html" class="tag">Emacs</a>
            
            <a href="/tag/lisp.html" class="tag">Lisp</a>
            
            <a href="/tag/emacs-lisp.html" class="tag">Emacs Lisp</a>
            
        </div>
        
    </article>
    
    
    
    
    <nav class="pagination">
        
            
                <a href="/page/11.html" class="pagination-prev">‚Üê Previous</a>
            
        
        
        <span class="pagination-info">Page 12 of 20</span>
        
        
            <a href="/page/13.html" class="pagination-next">Next ‚Üí</a>
        
    </nav>
    
</div>

            </main>

            <footer>
                <p>Generated with <a href="https://github.com/davep/blogmore" target="_blank" rel="noopener noreferrer">Blogmore</a></p>
            </footer>
        </div>
    </div>
</body>
</html>